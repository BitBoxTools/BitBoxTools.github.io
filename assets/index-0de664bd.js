var Ot=Object.defineProperty;var Ut=(t,n,e)=>n in t?Ot(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var Ae=(t,n,e)=>(Ut(t,typeof n!="symbol"?n+"":n,e),e),Se=(t,n,e)=>{if(!n.has(t))throw TypeError("Cannot "+e)};var f=(t,n,e)=>(Se(t,n,"read from private field"),e?e.call(t):n.get(t)),M=(t,n,e)=>{if(n.has(t))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(t):n.set(t,e)},ge=(t,n,e,a)=>(Se(t,n,"write to private field"),a?a.call(t,e):n.set(t,e),e);var y=(t,n,e)=>(Se(t,n,"access private method"),e);import{r as v,A as Mt,_ as We,g as $t,a as $,i as Oe,d as Ue,u as ht,b as O,j as i,T as je,M as Te,c as Y,B as V,e as m,F as Ie,P as ze,I as yt,E as qe,S as xe,C as Rt,f as Vt,h as Ht,k as Je,D as Ge,l as Zt,R as Wt,m as qt,n as Jt,U as Gt,o as Kt,L as Yt,p as Qt,q as ee,s as Xt,t as es,v as ts,w as ss}from"./index-770e2a40.js";import{u as gt}from"./useTranslation-715382d5.js";import{I as ns}from"./index-cfa0ed27.js";import{d as ke}from"./deleteData-cdcb64a3.js";var as={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"appstore-add",theme:"outlined"};const rs=as;var xt=function(n,e){return v.createElement(Mt,We(We({},n),{},{ref:e,icon:rs}))};xt.displayName="AppstoreAddOutlined";const os=v.forwardRef(xt);const is=async t=>{let n=`https://block-explorer-api.mainnet.zksync.io/address/${t}/transfers?limit=100&page=1`;const e=[];for(;;)try{const a=await $.get(n);if(a.status===200){const r=a.data.items;if(e.push(...r),a.data.links.next==="")break;n="https://block-explorer-api.mainnet.zksync.io/"+a.data.links.next}else{console.error("Error occurred while retrieving transactions.");break}}catch(a){console.error("Error occurred while making the request:",a);break}return e},cs=async t=>{const n=await $.post("https://mainnet.era.zksync.io/",{id:42,jsonrpc:"2.0",method:"zks_getTokenPrice",params:["0x0000000000000000000000000000000000000000"]}),e={USDC:1,USDT:1,ZKUSD:1,CEBUSD:1,LUSD:1,ETH:parseInt(n.data.result)};t.forEach(a=>{a.transfers.forEach(r=>{r.token.price=e[r.token.symbol.toUpperCase()]}),a.transfers=a.transfers.filter(r=>r.token.price!==void 0)})},ls=async t=>{let n=`https://block-explorer-api.mainnet.zksync.io/transactions?address=${t}&limit=100&page=1`;const e=[],a=await $t();for(;;)try{const o=await $.get(n);if(o.status===200){if(o.data.items.forEach(u=>{const{hash:h,to:x,from:k,data:j,isL1Originated:A,fee:W,receivedAt:X,value:ne}=u;e.push({hash:h,to:x,from:k,data:j,isL1Originated:A,fee:W,receivedAt:X,transfers:[],ethValue:parseInt(a),value:ne})}),o.data.links.next==="")break;n="https://block-explorer-api.mainnet.zksync.io/"+o.data.links.next}else{console.error("Error occurred while retrieving transactions.");break}}catch(o){console.error("Error occurred while making the request:",o);break}return(await is(t)).forEach(o=>{o.token!==null&&e.forEach(c=>{c.hash===o.transactionHash&&c.transfers.push(o)})}),await cs(e),await Oe(Ue),await ht("zkTransactions",{address:t,data:JSON.stringify(e)}),e},ds=async t=>{let n=0;return t.forEach(e=>{const a=parseInt(e.fee,16)*1e-18*e.ethValue;n+=a}),n===0?0:n.toFixed(2)},us=t=>{let n=0;return t.forEach(e=>{const a=e.transfers.sort((o,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;const r=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price;n+=r}),n===0?0:n.toFixed(2)},fs=t=>{const n=(new Date().getTime()-new Date(t).getTime())/1e3;if(n<60)return O.t("secondsAgo",{count:Math.round(n)});const e=n/60;if(e<60)return O.t("minutesAgo",{count:Math.round(e)});const a=e/60;if(a<24)return O.t("hoursAgo",{count:Math.round(a)});const r=a/24;return O.t("daysAgo",{count:Math.round(r)})},ms=t=>{const n=t.getFullYear(),e=new Date(n,0,1),a=(t.getDay()+6)%7,r=Math.floor((t.getTime()-e.getTime())/864e5),o=Math.floor((r+e.getDay()-a)/7);return`${n}-${o}`},ps=(t,n)=>{const e=new Set,a=new Set,r=new Set,o=new Set;return n.forEach(c=>{if(c.from.toLowerCase()!==t.toLowerCase())return;const u=new Date(c.receivedAt),h=u.getFullYear(),x=u.getMonth(),k=u.getDate(),j=ms(u);e.add(`${h}-${x}-${k}`),a.add(`${h}-${j}`),r.add(`${h}-${x}`),o.add(c.to)}),{dayActivity:e.size,weekActivity:a.size,monthActivity:r.size,contractActivity:o.size}},hs=async(t,n)=>{if(n.length===0)return{dayActivity:0,weekActivity:0,monthActivity:0,contractActivity:0,zks2_last_tx:O.t("noTransaction")};const{dayActivity:e,weekActivity:a,monthActivity:r,contractActivity:o}=ps(t,n),c=n[0],u=fs(c.receivedAt)||O.t("noTransaction");return{dayActivity:e,weekActivity:a,monthActivity:r,contractActivity:o,zks2_last_tx:u}};async function ys(t){try{let n="https://block-explorer-api.mainnet.zksync.io/address/"+t;const e=await $.get(n);let a,r,o;return"0x000000000000000000000000000000000000800A"in e.data.balances?(r=e.data.balances["0x000000000000000000000000000000000000800A"].balance,r=(Number(r)/10**18).toFixed(3)):r=0,"0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4"in e.data.balances?(o=e.data.balances["0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4"].balance,o=(Number(o)/10**6).toFixed(2)):o=0,a=e.data.sealedNonce,{zks2_balance:r,zks2_tx_amount:a,zks2_usdcBalance:o}}catch(n){return console.error(n),{zks2_balance:"-",zks2_tx_amount:"-",zks2_usdcBalance:"-"}}}const gs=t=>{const n=(new Date().getTime()-new Date(t).getTime())/1e3;if(n<60)return O.t("secondsAgo",{count:Math.round(n)});const e=n/60;if(e<60)return O.t("minutesAgo",{count:Math.round(e)});const a=e/60;if(a<24)return O.t("hoursAgo",{count:Math.round(a)});const r=a/24;return O.t("daysAgo",{count:Math.round(r)})};async function xs(t){try{const e=(await $.get(`https://api.zksync.io/api/v0.2/accounts/${t}/transactions`,{params:{from:"latest",limit:"25",direction:"older"}})).data;return e.result.list.length===0?O.t("noTransaction"):gs(e.result.list[0].createdAt)}catch(n){return console.log(n),"-"}}async function ks(t){try{let n="https://api.zksync.io/jsrpc";const e=await $.post(n,{id:1,jsonrpc:"2.0",method:"account_info",params:[t]});let a;"ETH"in e.data.result.committed.balances?a=(e.data.result.committed.balances.ETH/10**18).toFixed(3):a=0;let r=e.data.result.committed.nonce,o=await xs(t);return{zks1_balance:a,zks1_tx_amount:r,zks1_latest_tx:o}}catch(n){return console.error(n),{zks1_balance:"-",zks1_tx_amount:"-",zks1_latest_tx:"-"}}}const bs={ethereum:"https://cloudflare-eth.com",optimism:"https://optimism-mainnet.public.blastapi.io",arbitrum:"https://rpc.ankr.com/arbitrum",polygon:"https://polygon-bor.publicnode.com",bsc:"https://bscrpc.com"};async function vs(t,n){try{let e=bs[n];if(!e)return"Error: Invalid Network Name";let r=(await $.post(e,{jsonrpc:"2.0",method:"eth_getBalance",params:[t,"latest"],id:1})).data.result;return parseInt(r,16)/10**18===0?0:(parseInt(r,16)/10**18).toFixed(3)}catch(e){return console.error(e),"-"}}const ws={ethereum:"https://cloudflare-eth.com",optimism:"https://optimism-mainnet.public.blastapi.io",arbitrum:"https://rpc.ankr.com/arbitrum",polygon:"https://polygon-bor.publicnode.com",bsc:"https://bscrpc.com"};async function As(t,n){try{let e=ws[n];if(!e)return"Error: Invalid Network Name";const r=(await $.post(e,{jsonrpc:"2.0",method:"eth_getTransactionCount",params:[t,"latest"],id:1})).data.result;return parseInt(r,16)}catch(e){return console.error(e),"Error"}}const Ss="6.3.0";function Is(t,n,e){const a=n.split("|").map(o=>o.trim());for(let o=0;o<a.length;o++)switch(n){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===n)return}const r=new Error(`invalid value for type ${n}`);throw r.code="INVALID_ARGUMENT",r.argument=`value.${e}`,r.value=t,r}function kt(t,n,e){for(let a in n){let r=n[a];const o=e?e[a]:null;o&&Is(r,o,a),Object.defineProperty(t,a,{enumerable:!0,value:r,writable:!1})}}function re(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(re).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let e="0x";for(let a=0;a<t.length;a++)e+=n[t[a]>>4],e+=n[t[a]&15];return e}if(typeof t=="object"&&typeof t.toJSON=="function")return re(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(e=>`${re(e)}: ${re(t[e])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function zs(t,n,e){{const r=[];if(e){if("message"in e||"code"in e||"name"in e)throw new Error(`value will overwrite populated values: ${re(e)}`);for(const o in e){const c=e[o];r.push(o+"="+re(c))}}r.push(`code=${n}`),r.push(`version=${Ss}`),r.length&&(t+=" ("+r.join(", ")+")")}let a;switch(n){case"INVALID_ARGUMENT":a=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":a=new RangeError(t);break;default:a=new Error(t)}return kt(a,{code:n}),e&&Object.assign(a,e),a}function L(t,n,e,a){if(!t)throw zs(n,e,a)}function w(t,n,e,a){L(t,n,"INVALID_ARGUMENT",{argument:e,value:a})}["NFD","NFC","NFKD","NFKC"].reduce((t,n)=>{try{if("test".normalize(n)!=="test")throw new Error("bad");if(n==="NFD"){const e=String.fromCharCode(233).normalize("NFD"),a=String.fromCharCode(101,769);if(e!==a)throw new Error("broken")}t.push(n)}catch{}return t},[]);function _s(t,n,e){if(e==null&&(e=""),t!==n){let a=e,r="new";e&&(a+=".",r+=" "+e),L(!1,`private constructor; use ${a}from* methods`,"UNSUPPORTED_OPERATION",{operation:r})}}function Ds(t,n,e){if(t instanceof Uint8Array)return e?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const a=new Uint8Array((t.length-2)/2);let r=2;for(let o=0;o<a.length;o++)a[o]=parseInt(t.substring(r,r+2),16),r+=2;return a}w(!1,"invalid BytesLike value",n||"value",t)}function Cs(t,n){return Ds(t,n,!1)}const bt=BigInt(0),oe=BigInt(1),ie=9007199254740991;function Ee(t,n){const e=vt(t,"value"),a=BigInt(be(n,"width"));if(L(e>>a===bt,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),e>>a-oe){const r=(oe<<a)-oe;return-((~e&r)+oe)}return e}function Ke(t,n){const e=vt(t,"value"),a=BigInt(be(n,"bits"));return e&(oe<<a)-oe}function Me(t,n){switch(typeof t){case"bigint":return t;case"number":return w(Number.isInteger(t),"underflow",n||"value",t),w(t>=-ie&&t<=ie,"overflow",n||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(e){w(!1,`invalid BigNumberish string: ${e.message}`,n||"value",t)}}w(!1,"invalid BigNumberish value",n||"value",t)}function vt(t,n){const e=Me(t,n);return L(e>=bt,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),e}const Ye="0123456789abcdef";function js(t){if(t instanceof Uint8Array){let n="0x0";for(const e of t)n+=Ye[e>>4],n+=Ye[e&15];return BigInt(n)}return Me(t)}function be(t,n){switch(typeof t){case"bigint":return w(t>=-ie&&t<=ie,"overflow",n||"value",t),Number(t);case"number":return w(Number.isInteger(t),"underflow",n||"value",t),w(t>=-ie&&t<=ie,"overflow",n||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return be(BigInt(t),n)}catch(e){w(!1,`invalid numeric string: ${e.message}`,n||"value",t)}}w(!1,"invalid numeric value",n||"value",t)}const Ts=BigInt(-1),B=BigInt(0),ce=BigInt(1),Es=BigInt(5),ae={};let le="0000";for(;le.length<80;)le+=le;function te(t){let n=le;for(;n.length<t;)n+=n;return BigInt("1"+n.substring(0,t))}function de(t,n,e){const a=BigInt(n.width);if(n.signed){const r=ce<<a-ce;L(e==null||t>=-r&&t<r,"overflow","NUMERIC_FAULT",{operation:e,fault:"overflow",value:t}),t>B?t=Ee(Ke(t,a),a):t=-Ee(Ke(-t,a),a)}else{const r=ce<<a;L(e==null||t>=0&&t<r,"overflow","NUMERIC_FAULT",{operation:e,fault:"overflow",value:t}),t=(t%r+r)%r&r-ce}return t}function _e(t){typeof t=="number"&&(t=`fixed128x${t}`);let n=!0,e=128,a=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")n=!1;else{const o=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);w(o,"invalid fixed format","format",t),n=o[1]!=="u",e=parseInt(o[2]),a=parseInt(o[3])}}else if(t){const o=t,c=(u,h,x)=>o[u]==null?x:(w(typeof o[u]===h,"invalid fixed format ("+u+" not "+h+")","format."+u,o[u]),o[u]);n=c("signed","boolean",n),e=c("width","number",e),a=c("decimals","number",a)}w(e%8===0,"invalid FixedNumber width (not byte aligned)","format.width",e),w(a<=80,"invalid FixedNumber decimals (too large)","format.decimals",a);const r=(n?"":"u")+"fixed"+String(e)+"x"+String(a);return{signed:n,width:e,decimals:a,name:r}}function Fs(t,n){let e="";t<B&&(e="-",t*=Ts);let a=t.toString();if(n===0)return e+a;for(;a.length<=n;)a=le+a;const r=a.length-n;for(a=a.substring(0,r)+"."+a.substring(r);a[0]==="0"&&a[1]!==".";)a=a.substring(1);for(;a[a.length-1]==="0"&&a[a.length-2]!==".";)a=a.substring(0,a.length-1);return e+a}var N,p,_,Z,se,P,H,ue,Le,fe,Be,me,Ne,pe,Pe;const Q=class{constructor(n,e,a){M(this,Z);M(this,P);M(this,ue);M(this,fe);M(this,me);M(this,pe);Ae(this,"format");M(this,N,void 0);M(this,p,void 0);M(this,_,void 0);Ae(this,"_value");_s(n,ae,"FixedNumber"),ge(this,p,e),ge(this,N,a);const r=Fs(e,a.decimals);kt(this,{format:a.name,_value:r}),ge(this,_,te(a.decimals))}get signed(){return f(this,N).signed}get width(){return f(this,N).width}get decimals(){return f(this,N).decimals}get value(){return f(this,p)}addUnsafe(n){return y(this,ue,Le).call(this,n)}add(n){return y(this,ue,Le).call(this,n,"add")}subUnsafe(n){return y(this,fe,Be).call(this,n)}sub(n){return y(this,fe,Be).call(this,n,"sub")}mulUnsafe(n){return y(this,me,Ne).call(this,n)}mul(n){return y(this,me,Ne).call(this,n,"mul")}mulSignal(n){y(this,Z,se).call(this,n);const e=f(this,p)*f(n,p);return L(e%f(this,_)===B,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),y(this,P,H).call(this,e/f(this,_),"mulSignal")}divUnsafe(n){return y(this,pe,Pe).call(this,n)}div(n){return y(this,pe,Pe).call(this,n,"div")}divSignal(n){L(f(n,p)!==B,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),y(this,Z,se).call(this,n);const e=f(this,p)*f(this,_);return L(e%f(n,p)===B,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),y(this,P,H).call(this,e/f(n,p),"divSignal")}cmp(n){let e=this.value,a=n.value;const r=this.decimals-n.decimals;return r>0?a*=te(r):r<0&&(e*=te(-r)),e<a||e>a?-1:0}eq(n){return this.cmp(n)===0}lt(n){return this.cmp(n)<0}lte(n){return this.cmp(n)<=0}gt(n){return this.cmp(n)>0}gte(n){return this.cmp(n)>=0}floor(){let n=f(this,p);return f(this,p)<B&&(n-=f(this,_)-ce),n=f(this,p)/f(this,_)*f(this,_),y(this,P,H).call(this,n,"floor")}ceiling(){let n=f(this,p);return f(this,p)>B&&(n+=f(this,_)-ce),n=f(this,p)/f(this,_)*f(this,_),y(this,P,H).call(this,n,"ceiling")}round(n){if(n==null&&(n=0),n>=this.decimals)return this;const e=this.decimals-n,a=Es*te(e-1);let r=this.value+a;const o=te(e);return r=r/o*o,de(r,f(this,N),"round"),new Q(ae,r,f(this,N))}isZero(){return f(this,p)===B}isNegative(){return f(this,p)<B}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(n){return Q.fromString(this.toString(),n)}static fromValue(n,e,a){e==null&&(e=0);const r=_e(a);let o=Me(n,"value");const c=e-r.decimals;if(c>0){const u=te(c);L(o%u===B,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:n}),o/=u}else c<0&&(o*=te(-c));return de(o,r,"fromValue"),new Q(ae,o,r)}static fromString(n,e){const a=n.match(/^(-?)([0-9]*)\.?([0-9]*)$/);w(a&&a[2].length+a[3].length>0,"invalid FixedNumber string value","value",n);const r=_e(e);let o=a[2]||"0",c=a[3]||"";for(;c.length<r.decimals;)c+=le;L(c.substring(r.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:n}),c=c.substring(0,r.decimals);const u=BigInt(a[1]+o+c);return de(u,r,"fromString"),new Q(ae,u,r)}static fromBytes(n,e){let a=js(Cs(n,"value"));const r=_e(e);return r.signed&&(a=Ee(a,r.width)),de(a,r,"fromBytes"),new Q(ae,a,r)}};let Fe=Q;N=new WeakMap,p=new WeakMap,_=new WeakMap,Z=new WeakSet,se=function(n){w(this.format===n.format,"incompatible format; use fixedNumber.toFormat","other",n)},P=new WeakSet,H=function(n,e){return n=de(n,f(this,N),e),new Q(ae,n,f(this,N))},ue=new WeakSet,Le=function(n,e){return y(this,Z,se).call(this,n),y(this,P,H).call(this,f(this,p)+f(n,p),e)},fe=new WeakSet,Be=function(n,e){return y(this,Z,se).call(this,n),y(this,P,H).call(this,f(this,p)-f(n,p),e)},me=new WeakSet,Ne=function(n,e){return y(this,Z,se).call(this,n),y(this,P,H).call(this,f(this,p)*f(n,p)/f(this,_),e)},pe=new WeakSet,Pe=function(n,e){return L(f(n,p)!==B,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),y(this,Z,se).call(this,n),y(this,P,H).call(this,f(this,p)*f(this,_)/f(n,p),e)};const Ls=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Bs(t,n){let e=18;if(typeof n=="string"){const a=Ls.indexOf(n);w(a>=0,"invalid unit","unit",n),e=3*a}else n!=null&&(e=be(n,"unit"));return Fe.fromValue(t,e,{decimals:e}).toString()}function Qe(t){return Bs(t,18)}const Ns=(t,n)=>{let e=0,a=0,r=0,o=0;return t.forEach(c=>{const u=c.from,h=c.to,x=c.isL1Originated;if(u.toLowerCase()===n.toLowerCase()){if(x){e++;const k=Qe(c.value);a+=parseFloat(k)}if(h.toLowerCase()==="0x000000000000000000000000000000000000800A".toLowerCase()){r++;const k=Qe(c.value);o+=parseFloat(k)}}}),{l1Tol2Times:e,l1Tol2Amount:a===0?0:a.toFixed(3),l2Tol1Times:r,l2Tol1Amount:o===0?0:o.toFixed(3)}},Ps=async(t,n)=>{let e;if(!n)return e={score:"-",rank:"-",top:"-"},e;try{const a="https://mp.trustalabs.ai/zksyncera/score?account="+t+"&chainId=324",r=await $.get(a);if(r.data.message==="request success"){const o=r.data.data.score,c=r.data.data.rankValue.rank,u=r.data.data.rankValue.total,h=(Number(c)/Number(u)*100).toFixed(1);e={score:Number(o).toFixed(0),rank:c,top:h}}else e={score:0,rank:-1,top:100}}catch{e={score:"-",rank:"-",top:"-"}}return e},Os=t=>{const n=t.getFullYear(),e=new Date(n,0,1),a=(t.getDay()+6)%7,r=Math.floor((t.getTime()-e.getTime())/864e5),o=Math.floor((r+e.getDay()-a)/7);return`${n}-${o}`},D=(t,n,e,a=[])=>{const r=new Set,o=new Set,c=new Set;return n.forEach(u=>{if(e!=="zksynceraportal"&&!a.includes(u.to.toLowerCase())&&!a.includes(u.from.toLowerCase())||e==="zksynceraportal"&&!u.data.startsWith("0x51cff8d9")&&!(u.to.toLowerCase()===t.toLowerCase()&&u.isL1Originated))return;const h=new Date(u.receivedAt),x=h.getFullYear(),k=h.getMonth(),j=h.getDate(),A=Os(h);r.add(`${x}-${k}-${j}`),o.add(`${x}-${A}`),c.add(`${x}-${k}`)}),{days:r.size,weeks:o.size,months:c.size}},Xe="0x2da10a1e27bf85cedd8ffb1abbe97e53391c0295",et=["0x80115c708e12edd42e504c1cd52aea96c547c05c","0x176b23f1ddfeedd10fc250b8f769362492ef810b","0x4e7d2e3f40998daeb59a316148bfbf8efd1f7f3c","0xae092fcec5fd04836b12e87da0d7ed3a707b38b0"],Us={getProtocolsState:(t,n)=>{const e={name:"SyncSwap",id:"syncswap",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://syncswap.xyz/"};return t.forEach(a=>{if(Xe.includes(a.to.toLowerCase())||et.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((o,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=D(n,t,e.id,et.concat([Xe])).days,e}},tt=["0xd2ca21df45479824f954a6e1759d436a57d63faf","0x1f090f91ee09768ca36dcd52640f4a5eae146555","0xc523df658dbec88dc03fb23a703bcbd7ffb5ea01","0x116a4a5ed4c7d5712e109d4188e17616d8e5784a","0x8d123a2a0a7c98555931ceda6917b865b7345164"],Ms={getProtocolsState:(t,n)=>{const e={name:"Goal3",id:"goal3",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://beta.goal3.xyz/",tag:"Gasless"};return t.forEach(a=>{if(tt.includes(a.to.toLowerCase())){if(a.data.startsWith("0xbd95e4f1")){const r=parseInt(a.data.slice(-64),16)*1e-6;e.volume+=r}else{const r=a.transfers.sort((o,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}e.interactions+=1,e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt)}}),e.activeDays=D(n,t,e.id,tt).days,e}},st=["0x7b4872e2096ec9410b6b8c8b7d039589e6ee8022","0xaf08a9d918f16332f22cf8dc9abe9d9e14ddcbc2"],$s={getProtocolsState:(t,n)=>{const e={name:"Holdstation",id:"holdstation",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://holdstation.exchange/"};return t.forEach(a=>{if(st.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((o,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=D(n,t,e.id,st).days,e}},nt=["0x33d9936b7b7bc155493446b5e6ddc0350eb83aec","0x7499ce9c8f4ff47be5dd5308ab54cc710de751e1","0xbc94aedd2a0a986476b89e072b05e0df117a3f8b","0xc319755dff1601b3d0520b421a281b11bf22e80f","0x8df80089b7ab1646db211d43949ecdfc94582011","0x0066f3791bd9d5a25d88f978dd8e1006445fe0d6","0x377ec7c9ae5a0787f384668788a1654249059dd6","0x3ec82c07981d6d213da9bd35a0ba4cd324fea438","0x9606ec131eec0f84c95d82c9a63959f2331cf2ac","0x936c9a1b8f88bfdbd5066ad08e5d773bc82eb15f","0x8b9d7d609a83b2f69d2135786a7d230043af7283","0x7dee7de9814ed6c1e20b3e4e2fa9b1b96e15fde1"],Rs={getProtocolsState:(t,n)=>{const e={name:"iZUMi finance",id:"izumi",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://izumi.finance/home"};return t.forEach(a=>{if(nt.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((o,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=D(n,t,e.id,nt).days,e}},at=["0xfd54762d435a490405dda0fbc92b7168934e8525","0x852639ee9dd090d30271832332501e87d287106c","0x77ee88b1c9cce741ec35553730eb1f19cd45a379","0x39e098a153ad69834a9dac32f0fca92066ad03f4"],Vs={getProtocolsState:(t,n)=>{const e={name:"Maverick",id:"maverick",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://app.mav.xyz/"};return t.forEach(a=>{if(at.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((o,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=D(n,t,e.id,at).days,e}},rt="0x8b791913eb07c32779a16750e3868aa8495f5964",ot=["0xdfaab828f5f515e104baaba4d8d554da9096f0e4","0xb85feb6af3412d690dfda280b73eaed73a2315bc"],Hs={getProtocolsState:(t,n)=>{const e={name:"Mute.io",id:"muteio",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://mute.io/"};return t.forEach(a=>{if(rt.includes(a.to.toLowerCase())||ot.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((o,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=D(n,t,e.id,ot.concat([rt])).days,e}},it=["0x84c18204c30da662562b7a2c79397c9e05f942f0","0xca806b267fc0c1c12edbf77a2e5bca5939c7d953","0xaa08a6d7b10724d03b8f4857d4fa14e7f92814e3","0x10c8044ae3f2b1c7decb439ff2dc1164d750c39d","0xe676b11421d68a28ba50920f2841183af93067a2","0x6219f06135b79705d34f5261852e9f6b98821e1f"],Zs={getProtocolsState:(t,n)=>{const e={name:"Onchain Trade",id:"onchaintrade",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://onchain.trade/"};return t.forEach(a=>{if(it.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((o,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=D(n,t,e.id,it).days,e}},De=["0xe4edb277e41dc89ab076a1f049f4a3efa700bce8","0x80c67432656d59144ceff962e8faf8926599bcf8","0xee73323912a4e3772b74ed0ca1595a152b0ef282","0x0a88BC5c32b684D467b43C06D9e0899EfEAF59Df"],Ws={getProtocolsState:(t,n)=>{const e={name:"Orbiter Finance",id:"orbiter",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://orbiter.finance/"};return t.forEach(a=>{if(De.includes(a.to.toLowerCase())||De.includes(a.from.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((o,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=D(n,t,e.id,De).days,e}},ct=["0xefde2aefe307a7362c7e0e3be019d1491dc7e163","0xba5f1898f3af43e30b552cac559f11f5d5a2fd1e","0xf9895dcb26c60743fce3ae54f506c47b763693bb","0xbbca935fb05d8671b8875293c2d82df73105ac60","0xc8db02c5900de3ed03139e9ec62a84b2f5e06d7f","0xc2e9dfb2fded2139b0b60c6781b4c648f1385c16","0x0ed4a1c66fcdf17341177422e73ca919284e040c","0x015d01187a77055fadb96c63a9de9f8981e3d0f5","0x9eb48ce91a77ff37f2edd032c90d7ec6a953b4fd","0x1f79cce5b8876a07541900e681b31a8e51766b5a","0xf77ded0ae91c41c432555beb25da2a6658338e5a","0xcc8b6c37fb97bdc774f0ea7f8b047e8ee057458c","0xc05c6a229c6ed34b9d31c88421d70ef71fbaabcf","0xf35eb225803ccf6ffb64be531bb91132a9229196","0x277e57e33c92c7f145832274384eeef35828db3d","0x2dddd703578d1f5bd1fad113c9e12f0c416305d5","0xd23432901c0754e28999661f31ab4aa3633ec2ed","0x747cc81b6c2b4afe13be59d31591d4229854b826","0xa0c13b5eca719be98ef27d0c4111cb5abbe97731","0x824422bd3ba030ca9ca5bcad26dfd4b45409849d","0xd2589f416c9412572df8d94fa1d58073c9f8f3bf","0x7bd375b95a1dbcbddb1e8219a01c550b21ed6ea2","0x5b91962f5eca75e6558e4d32df69b30f75cc6fe5","0x901b51b9a4214990ac6f0fd50a45df1573b7a51a"],qs={getProtocolsState:(t,n)=>{const e={name:"Rollup Finance",id:"rollup",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://rollup.finance/"};return t.forEach(a=>{if(ct.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((o,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=D(n,t,e.id,ct).days,e}},lt=["0x0700fb51560cfc8f896b2c812499d17c5b0bf6a7","0xe8826fc3ce6e74932144dbc2b369e7b52e88193a","0x7cf85f98c0339559eab22deea1e018721e800add","0xb376fceacd9fef24a342645cbf72a4c439ea0614","0xacf5a67f2fcfeda3946ccb1ad9d16d2eb65c3c96","0x4ad9ee1698b6d521ebb2883dd9fc3655c7553561","0x00f093ff2bca9da894396336286c7c5bd2310ca5","0x307baa142ba2bfa4a3059efb631899c992a193ee","0x77d807b74d54b81a87a5769176bc7719f676c8ce","0xbe7d1fd1f6748bbdefc4fbacafbb11c6fc506d1d"],Js={getProtocolsState:(t,n)=>{const e={name:"SpaceFi",id:"spacefi",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://spacefi.io/"};return t.forEach(a=>{if(lt.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((o,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=D(n,t,e.id,lt).days,e}},dt=["0x1bdb8250eaf3c596441e6c3417c9d5195d6c85b9"],Gs={getProtocolsState:(t,n)=>{const e={name:"Starmaker",id:"starmaker",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://starmaker.exchange/"};return t.forEach(a=>{if(dt.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((o,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=D(n,t,e.id,dt).days,e}},ut="0xd999e16e68476bc749a28fc14a0c3b6d7073f50c",ft=["0xcd52cbc975fbb802f82a1f92112b1250b5a997df"],Ks={getProtocolsState:(t,n)=>{const e={name:"Velocore",id:"velocore",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://velocore.xyz/"};return t.forEach(a=>{if(ut.includes(a.to.toLowerCase())||ft.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((o,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=D(n,t,e.id,ft.concat([ut])).days,e}},Ys={getProtocolsState:(t,n)=>{const e={name:"zkSync Era Portal",id:"zksynceraportal",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://portal.zksync.io/bridge"};return t.forEach(a=>{if(a.to.toLowerCase()==="0x000000000000000000000000000000000000800a"&&a.data.startsWith("0x51cff8d9")||a.to.toLowerCase()===n.toLowerCase()&&a.isL1Originated){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((o,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=D(n,t,e.id,["0x000000000000000000000000000000000000800a"]).days,e}},Ce=["0xa531ece441138d8ce52642ad497059f2a79fd96f"],Qs={getProtocolsState:(t,n)=>{const e={name:"zkSync ID",id:"zksyncid",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://www.zksyncid.xyz/"};return t.forEach(a=>{if(Ce.includes(a.to.toLowerCase())||Ce.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((o,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=D(n,t,e.id,Ce).days,e}},mt=["0xae23b6e7f91ddebd3b70d74d20583e3e674bd94f"],Xs={getProtocolsState:(t,n)=>{const e={name:"zkSync Name Service",id:"zksyncnameservice",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://app.zkns.domains/"};return t.forEach(a=>{if(mt.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((o,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=D(n,t,e.id,mt).days,e}},en=async(t,n)=>{const e=Us.getProtocolsState(t,n),a=Ms.getProtocolsState(t,n),r=$s.getProtocolsState(t,n),o=Rs.getProtocolsState(t,n),c=Vs.getProtocolsState(t,n),u=Hs.getProtocolsState(t,n),h=Zs.getProtocolsState(t,n),x=Ws.getProtocolsState(t,n),k=qs.getProtocolsState(t,n),j=Js.getProtocolsState(t,n),A=Gs.getProtocolsState(t,n),W=Ks.getProtocolsState(t,n),X=Ys.getProtocolsState(t,n),ne=Qs.getProtocolsState(t,n),ve=Xs.getProtocolsState(t,n),he=await Promise.all([e,a,r,o,c,u,h,x,k,j,A,W,X,ne,ve]);await Oe(Ue),await ht("zkProtocol",{address:n,data:JSON.stringify(he)})},tn=async t=>{try{const n="https://qr-mint.g7p.io/api/checkWhitelist?wallet="+t,a=(await $.get(n,{timeout:2e4})).data.success===!0?"yes":"no";return console.log(a),a}catch(n){return n.response&&n.response.status===400&&n.response.data&&n.response.data.message==="Your address is not eligible for this initial mint. Follow @zksync on Twitter for opportunities to mint the Libertas Omnibus project 🫡"?"no":"error"}},pt=async(t,n)=>{try{const e=await ls(t),a=await ds(e),r=us(e),o=await hs(t,e),c=await ys(t),u=await ks(t),h=await vs(t,"ethereum"),x=await As(t,"ethereum"),k=Ns(e,t),j=await Ps(t,n);await en(e,t);const A=await tn(t);return{totalFee:a,totalExchangeAmount:r,activity:o,zksEraBalance:c,zksLiteBalance:u,eth_balance:h,eth_tx_amount:x,bridge:k,trustData:j,isCanClaim:A,result:"success"}}catch(e){return{result:"error",reason:e.message}}},sn=t=>{const{t:n}=gt(),e=[{key:"1",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/izumi-1.png",name:"iziswap",category:"DEX",url:"https://zksync.izumi.finance/swap",description:"izumi_Finance是专注流动性的多链DeFi协议，刚刚完成了新一轮22M的融资，iZiSwap上线zkSync一个月，TVL便突破40M，目前是zksync第二的dex,未来会把zksync给予项目方潜在空投的50%，用来回馈给用户。"},{key:"2",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem-logo-2/eco-logo-Galaxy-Owlto-Finance.png",name:"Owlto",category:"Bridge",url:"https://owlto.finance/",description:"快速/便宜/安全/好用的跨链桥."},{key:"3",logo:"https://portal.zksync.io/_nuxt/icons/64x64.cb7cab0d.png",name:"zkSync Portal",category:"Portal",url:"https://portal.zksync.io/",description:"zkSync官方钱包门户。"},{key:"4",logo:"https://portal.zksync.io/_nuxt/icons/64x64.cb7cab0d.png",name:"zkSync Bridge",category:"Bridge",url:"https://portal.zksync.io/bridge/",description:"zkSync官方桥。"},{key:"5",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/meson.svg",name:"meson",category:"Bridge",url:"https://meson.fi/?from=bitboxtools",description:"Meson是一个领先的稳定币跨链协议，它允许稳定币在不同的区块链之间进行跨链交易。该协议支持 USDC、USDT 和 BUSD 等主流稳定币在 zkSync 和其他20条主流公链之间的跨链操作。"},{key:"6",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/hito-transparent.svg",name:"Argent",category:"Wallet",url:"https://www.argent.xyz/",description:"Argent是一款基于以太坊的移动钱包，支持zkSync。"},{key:"7",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/Group%20104439%20-%20Naomi%20LI.svg",name:"Element Market",category:"NFT",url:"https://element.market/",description:"Element Market是一个聚合NFT市场。"},{key:"8",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/orbiter-1.png",name:"Orbiter",category:"Bridge",url:"https://orbiter.finance",description:"Orbiter是一个跨链桥。"},{key:"9",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/okxwallet.png",name:"OKX Wallet",category:"Wallet",url:"https://www.okx.com/cn/web3",description:"OKX Wallet,Web3 的入口。"},{key:"10",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem-logo-2/eco-logo-DeBank.png",name:"DeBank",category:"Defi",url:"https://debank.com/",description:"DeBank是一个去中心化的钱包聚合资产平台。"}],a=Array.from(new Set(e.map(u=>u.category))).map(u=>({text:u,value:u})),r=[{title:"",dataIndex:"logo",key:"logo",align:"center",render:u=>i.jsx(ns,{src:u,alt:"logo",style:{width:"40px",height:"40px",objectFit:"contain"}})},{title:n("protocol"),dataIndex:"name",key:"name",align:"center"},{title:n("category"),dataIndex:"category",key:"category",align:"center",filters:a,onFilter:(u,h)=>h.category===u},{title:n("link"),dataIndex:"url",key:"url",align:"center",render:u=>i.jsx(je,{title:n("tip"),children:i.jsx("a",{href:u,target:"_blank",rel:"noreferrer",children:u})})},{title:n("intro"),dataIndex:"description",key:"description",align:"center",render:u=>i.jsx(je,{title:u,children:i.jsx("span",{children:u.length>30?`${u.substring(0,30)}...`:u})})}],{open:o,onCancel:c}=t;return i.jsxs(Te,{title:i.jsxs(i.Fragment,{children:[n("ecosystem"),i.jsxs(Y,{color:"blue",style:{marginLeft:"8px",fontWeight:"bold"},children:[" ",n("tip2")," "]})]}),open:o,onCancel:c,footer:[i.jsx(V,{onClick:c,type:"primary",children:n("close")},"close")],width:1200,centered:!0,closable:!1,bodyStyle:{height:"500px",overflow:"auto"},children:[i.jsx(m,{columns:r,pagination:!1,size:"small",dataSource:e,style:{margin:"16px"}}),i.jsx("div",{style:{textAlign:"center",marginTop:"16px",fontWeight:"bold"},children:i.jsx("p",{children:"Wait more..."})})]})},{Content:nn}=Yt,{Text:R,Paragraph:an}=Qt,{TextArea:rn}=yt;function fn(){const{t}=gt(),[n,e]=v.useState(!1),[a,r]=v.useState([]),[o,c]=v.useState(!0),[u,h]=v.useState(!1),[x,k]=v.useState(!1),[j]=Ie.useForm(),[A,W]=v.useState([]),[X,ne]=v.useState(!1),[ve,he]=v.useState(!1),[wt,$e]=v.useState(null),[ye,At]=v.useState(null),[Re,St]=v.useState(!1),[we,Ve]=v.useState(!0);let He=a.length+1;v.useEffect(()=>{const l=localStorage.getItem("isGetTustalabsData");l&&Ve(l==="true")},[]),v.useEffect(()=>{he(!0);const l=localStorage.getItem("addresses");setTimeout(()=>{he(!1)},500),l&&r(JSON.parse(l)),St(!0)},[]),v.useEffect(()=>{Re&&localStorage.setItem("addresses",JSON.stringify(a))},[a,Re]);const Ze=async l=>{const d=l?[l]:A;if(!d.length){ee.error({message:t("zk_error"),description:t("zk_error_msg3"),duration:1});return}ne(!0);try{let C=0,T=[];const J=()=>{for(;T.length>0&&C<5;){const g=T.shift();C+=1,g().finally(()=>{C-=1,J()})}};for(let g of d){const E=a.findIndex(G=>G.key===g);if(E!==-1){const G=()=>new Promise(async(F,K)=>{try{r(I=>{const b=[...I];for(let z in b[E])z!=="address"&&z!=="name"&&z!=="key"&&(z==="result"?b[E][z]="pending":b[E][z]=null);return b});const U=await pt(a[E].address,we);r(I=>{const b=[...I];return b[E]={...b[E],...U},localStorage.setItem("addresses",JSON.stringify(b)),b}),F()}catch(U){K(U)}});T.push(G)}}for(J();C>0||T.length>0;)await new Promise(g=>setTimeout(g,100));ee.success({message:"完成",description:"刷新地址数据完成",duration:1})}catch(S){s,ee.error({message:t("zk_error"),description:S.message,duration:1})}finally{ne(!1),l||W([])}},It=async()=>{try{e(!0),h(!1);const d=(await j.validateFields()).addresses.split(`
`),S=5;let C=0,T=[];const J=()=>{for(;T.length>0&&C<S;){const g=T.shift();C+=1,g().finally(()=>{C-=1,J()})}};for(let g of d){if(g=g.trim(),g.length!==42){ee.error({message:t("zk_error"),description:t("zk_error_msg"),duration:1});continue}const E=()=>new Promise(async(G,F)=>{try{r(U=>{const I=[...U];if(I.findIndex(z=>z.address===g)===-1){const z={key:He.toString(),address:g,result:"pending"};He++,I.push(z)}return I});const K=await pt(g,we);r(U=>{const I=[...U],b=I.findIndex(z=>z.address===g);return b!==-1&&(I[b]={...I[b],...K}),I}),G()}catch(K){F(K)}});T.push(E)}for(J();C>0||T.length>0;)await new Promise(g=>setTimeout(g,100));ee.success({message:"成功",description:"批量添加完成",duration:1})}catch(l){ee.error({message:t("zk_error"),description:l.message,duration:1})}finally{e(!1),j.resetFields(),W([])}},zt=()=>{c(!o)},_t=()=>o?i.jsx(Xt,{}):i.jsx(es,{}),Dt=()=>{h(!0)},Ct=()=>{ts(a,"walletInfo")},jt=async l=>{r(a.filter(d=>d.address!==l)),localStorage.setItem("addresses",JSON.stringify(a.filter(d=>d.address!==l))),await ke("zkProtocol",[l]),await ke("zkTransactions",[l])},Tt=async()=>{if(!A.length){ee.error({message:t("zk_error"),description:t("zk_error_msg2"),duration:1});return}const l=a.filter(d=>A.includes(d.key)).map(d=>d.address);await ke("zkTransactions",l),await ke("zkProtocol",l),r(a.filter(d=>!A.includes(d.key))),localStorage.setItem("addresses",JSON.stringify(a.filter(d=>!A.includes(d.key)))),W([])},Et={selectedRowKeys:A,onChange:l=>{W(l)}},Ft=()=>{h(!1)},Lt=async l=>{await Oe(Ue);const d=await ss("zkProtocol",l);console.log(d);const S=d.data?JSON.parse(d.data):[];return{address:l,protocols:S}},Bt=[{title:"#",key:"index",align:"center",render:(l,d,S)=>S+1},{title:t("notes"),dataIndex:"name",key:"name",align:"center",render:(l,d)=>{const S=l||i.jsx(qe,{});return i.jsx(ze,{title:i.jsx("div",{children:i.jsx(yt,{placeholder:"请输入备注",defaultValue:l,onChange:C=>{d.name=C.target.value},allowClear:!0,bordered:!0})}),icon:i.jsx(qe,{}),onConfirm:()=>{r([...a]),localStorage.setItem("addresses",JSON.stringify(a))},onCancel:()=>{},okText:"确定",cancelText:"取消",children:i.jsx(Y,{color:"blue",style:{cursor:"pointer"},children:S})})}},{title:i.jsxs("span",{children:[t("address"),i.jsx("span",{onClick:zt,style:{marginLeft:8,cursor:"pointer"},children:_t()})]}),dataIndex:"address",key:"address",align:"center",render:l=>{const d=o?l.slice(0,4)+"***"+l.slice(-4):l;return i.jsx(an,{copyable:{text:l},style:{whiteSpace:"nowrap",margin:0},children:d})}},{title:"ETH",key:"eth_group",className:"zks_eth",children:[{title:"ETH",dataIndex:"eth_balance",key:"eth_balance",align:"center"},{title:"Tx",dataIndex:"eth_tx_amount",key:"eth_tx_amount",align:"center"}]},{title:"zkSyncLite",key:"zks_lite_group",className:"zks_lite",children:[{title:"ETH",dataIndex:["zksLiteBalance","zks1_balance"],key:"zks1_balance",align:"center"},{title:"Tx",dataIndex:["zksLiteBalance","zks1_tx_amount"],key:"zks1_tx_amount",align:"center",sorter:(l,d)=>l.zksLiteBalance.zks1_tx_amount-d.zksLiteBalance.zks1_tx_amount},{title:t("last_tx"),dataIndex:["zksLiteBalance","zks1_latest_tx"],key:"zks1_latest_tx",align:"center"}]},{title:"zkSyncEra",key:"zks_era_group",className:"zks_era",children:[{title:"ETH",dataIndex:["zksEraBalance","zks2_balance"],key:"zks2_balance",align:"center"},{title:"USDC",dataIndex:["zksEraBalance","zks2_usdcBalance"],key:"zks2_usdcBalance",align:"center"},{title:"Tx",dataIndex:["zksEraBalance","zks2_tx_amount"],key:"zks2_tx_amount",align:"center",sorter:(l,d)=>l.zksEraBalance.zks2_tx_amount-d.zksEraBalance.zks2_tx_amount},{title:t("last_tx"),dataIndex:["activity","zks2_last_tx"],key:"zks2_last_tx",align:"center",render:(l,d)=>i.jsx("a",{href:"https://explorer.zksync.io/address/"+d.address,target:"_blank",children:l})},{title:t("official_bridge_tx"),key:"cross_chain_tx_count_group",children:[{title:"L1->L2",dataIndex:["bridge","l1Tol2Times"],key:"l1Tol2Times",align:"center"},{title:"L2->L1",dataIndex:["bridge","l2Tol1Times"],key:"l2Tol1Times",align:"center"}]},{title:t("official_bridge_amount"),key:"cross_chain_amount_group",children:[{title:"L1->L2",dataIndex:["bridge","l1Tol2Amount"],key:"l1Tol2Amount",align:"center"},{title:"L2->L1",dataIndex:["bridge","l2Tol1Amount"],key:"l2Tol1Amount",align:"center"}]},{title:t("activities"),key:"activity_stats_group",children:[{title:t("day"),dataIndex:["activity","dayActivity"],key:"dayActivity",align:"center"},{title:t("week"),dataIndex:["activity","weekActivity"],key:"weekActivity",align:"center"},{title:t("month"),dataIndex:["activity","monthActivity"],key:"monthActivity",align:"center"},{title:t("contract"),dataIndex:["activity","contractActivity"],key:"contractActivity",align:"center"},{title:t("amount"),dataIndex:"totalExchangeAmount",key:"totalExchangeAmount",align:"center",sorter:(l,d)=>l.totalExchangeAmount-d.totalExchangeAmount},{title:t("fee"),dataIndex:"totalFee",key:"totalFee",align:"center"}]}]},{title:i.jsx("span",{children:i.jsxs(xe,{children:[i.jsx("span",{children:"Trustalabs"}),i.jsx(Rt,{checked:we,onChange:l=>{Ve(l.target.checked),localStorage.setItem("isGetTustalabsData",l.target.checked)}})]})}),key:"trustData",className:"trustData",children:[{title:t("score"),key:"score",dataIndex:["trustData","score"],align:"center",sorter:(l,d)=>l.trustData.score-d.trustData.score},{title:t("rank"),key:"rank",dataIndex:["trustData","rank"],align:"center",sorter:(l,d)=>l.trustData.rank-d.trustData.rank},{title:"Top",key:"top",dataIndex:["trustData","top"],align:"center",render:l=>l!=="-"&&l?l.toString()+"%":l,sorter:(l,d)=>l.trustData.top-d.trustData.top}]},{title:"NFT是否可领",key:"nft",align:"center",dataIndex:"isCanClaim",render:l=>i.jsxs(xe,{children:[l&&l==="yes"?i.jsx(Y,{color:"success",children:"是"}):null,l&&l==="no"?i.jsx(Y,{color:"error",children:"否"}):null,l&&l==="error"?i.jsx(Y,{color:"error",children:"获取失败"}):null]})},{title:t("state"),key:"result",align:"center",render:(l,d)=>i.jsxs(xe,{children:[d.result==="success"?i.jsx(Y,{icon:i.jsx(Vt,{}),color:"success",children:"成功"}):null,d.result==="error"?i.jsx(je,{title:d.reason,children:i.jsx(Y,{icon:i.jsx(Ht,{}),color:"error",children:"失败 "})}):null,d.result==="pending"?i.jsx(Y,{icon:i.jsx(Je,{spin:!0}),color:"processing",children:"获取中 "}):null]})},{title:t("operation"),key:"action",align:"center",render:(l,d)=>i.jsxs(xe,{size:"small",children:[i.jsx(ze,{title:t("zk_message_confirm_delete"),onConfirm:async()=>{await jt(d.address)},children:i.jsx(V,{icon:i.jsx(Ge,{})})}),i.jsx(V,{icon:i.jsx(Zt,{}),onClick:()=>{$e(d.address),Lt(d.address).then(S=>{At(S)})}}),i.jsx(V,{icon:i.jsx(Wt,{}),onClick:()=>{Ze(d.key)}})]})}],Nt=[{title:"",dataIndex:"logo",key:"logo",align:"center",render:(l,d)=>i.jsx("img",{src:"/protocol/"+d.id+".png",style:{width:"20px",height:"20px"},alt:d.id})},{title:t("protocol"),dataIndex:"name",key:"name",align:"center",render:(l,d)=>i.jsx("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",children:l})},{title:"tx",dataIndex:"interactions",key:"interactions",sorter:(l,d)=>l.interactions-d.interactions,align:"center"},{title:t("last_tx"),dataIndex:"lastActivity",key:"lastActivity",align:"center",render:l=>l===""?"无":new Date(l).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"})},{title:t("amount"),dataIndex:"volume",key:"volume",align:"center",sorter:(l,d)=>l.volume-d.volume,defaultSortOrder:"descend",render:l=>Number(l).toFixed(2)}];function q(l,d=3){return l===0?"0":l.toFixed(d)}const Pt=l=>{let d=0,S=0,C=0,T=0,J=0,g=0,E=0,G=0;return l.forEach(F=>{var K,U,I,b,z;d+=parseFloat(F.eth_balance||0),S+=parseFloat(((K=F.zksLiteBalance)==null?void 0:K.zks1_balance)||0),C+=parseFloat(((U=F.zksEraBalance)==null?void 0:U.zks2_balance)||0),T+=parseFloat(((I=F.zksEraBalance)==null?void 0:I.zks2_usdcBalance)||0),J+=parseFloat(((b=F.bridge)==null?void 0:b.l1Tol2Amount)||0),g+=parseFloat(((z=F.bridge)==null?void 0:z.l2Tol1Amount)||0),E+=parseFloat(F.totalExchangeAmount||0),G+=parseFloat(F.totalFee||0)}),i.jsx(m.Summary,{children:i.jsxs(m.Summary.Row,{children:[i.jsx(m.Summary.Cell,{index:0,children:i.jsx(R,{type:"danger",children:"总计"})}),i.jsx(m.Summary.Cell,{index:1}),i.jsx(m.Summary.Cell,{index:2}),i.jsx(m.Summary.Cell,{index:3}),i.jsx(m.Summary.Cell,{index:4,children:i.jsx(R,{type:"danger",children:q(d)})}),i.jsx(m.Summary.Cell,{index:5}),i.jsx(m.Summary.Cell,{index:6,children:i.jsx(R,{type:"danger",children:q(S)})}),i.jsx(m.Summary.Cell,{index:7}),i.jsx(m.Summary.Cell,{index:8}),i.jsx(m.Summary.Cell,{index:9,children:i.jsx(R,{type:"danger",children:q(C)})}),i.jsx(m.Summary.Cell,{index:10,children:i.jsx(R,{type:"danger",children:q(T,2)})}),i.jsx(m.Summary.Cell,{index:11}),i.jsx(m.Summary.Cell,{index:12}),i.jsx(m.Summary.Cell,{index:13}),i.jsx(m.Summary.Cell,{index:14}),i.jsx(m.Summary.Cell,{index:15,children:i.jsx(R,{type:"danger",children:q(J)})}),i.jsx(m.Summary.Cell,{index:16,children:i.jsx(R,{type:"danger",children:q(g)})}),i.jsx(m.Summary.Cell,{index:17}),i.jsx(m.Summary.Cell,{index:18}),i.jsx(m.Summary.Cell,{index:19}),i.jsx(m.Summary.Cell,{index:20}),i.jsx(m.Summary.Cell,{index:21,children:i.jsx(R,{type:"danger",children:q(E,2)})}),i.jsx(m.Summary.Cell,{index:22,children:i.jsx(R,{type:"danger",children:q(G,2)})}),i.jsx(m.Summary.Cell,{index:23}),i.jsx(m.Summary.Cell,{index:24}),i.jsx(m.Summary.Cell,{index:25}),i.jsx(m.Summary.Cell,{index:26}),i.jsx(m.Summary.Cell,{index:27}),i.jsx(m.Summary.Cell,{index:28})]})})};return i.jsx("div",{children:i.jsxs(nn,{children:[i.jsx(sn,{open:x,onCancel:()=>k(!1)}),i.jsx(Te,{title:ye&&ye.address+"  "+t("address_detail"),open:wt!==null,onCancel:()=>$e(null),footer:null,width:1e3,centered:!0,bodyStyle:{height:"500px",overflow:"auto"},children:i.jsx("div",{children:ye&&i.jsx(m,{columns:Nt,dataSource:ye.protocols,pagination:!1,defaultSortOrder:"descend",size:"small"})})}),i.jsx(Te,{title:t("batch_add_address"),open:u,onOk:It,onCancel:Ft,okButtonProps:{loading:X},okText:"OK",cancelText:"Cancel",children:i.jsx(Ie,{form:j,layout:"vertical",children:i.jsx(Ie.Item,{label:t("address"),name:"addresses",rules:[{required:!0}],children:i.jsx(rn,{placeholder:t("zk_msg"),style:{width:"500px",height:"200px"}})})})}),i.jsx("div",{style:{marginBottom:"50px"},children:i.jsx(qt,{spinning:ve,size:"small",children:i.jsx(m,{rowKey:l=>l.key,rowSelection:Et,dataSource:a,pagination:!1,bordered:!0,style:{marginBottom:"20px",zIndex:2},size:"small",columns:Bt,summary:Pt})})}),i.jsx("div",{className:"zks_footer",children:i.jsx(Jt,{size:"small",style:{width:"100%"},children:i.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",gap:"10px"},children:[i.jsx(V,{type:"primary",onClick:()=>{k(!0)},size:"large",style:{width:"20%"},icon:i.jsx(os,{}),children:i.jsx("span",{style:{color:"white"},children:t("ecosystem")})}),i.jsx(V,{type:"primary",onClick:Dt,size:"large",style:{width:"20%"},icon:i.jsx(Gt,{}),loading:n,children:t(n?"adding":"batch_add_address")}),i.jsx(V,{type:"primary",onClick:()=>Ze(),loading:X,size:"large",style:{width:"20%"},icon:i.jsx(Je,{}),children:t(X?"refreshing":"refresh_selected_address")}),i.jsx(ze,{title:t("confirm_delete")+A.length+t("address_count")+"?",onConfirm:async()=>{await Tt()},children:i.jsx(V,{type:"primary",danger:!0,size:"large",style:{width:"20%"},icon:i.jsx(Ge,{}),children:t("delete_selected_address")})}),i.jsx(V,{type:"primary",icon:i.jsx(Kt,{}),size:"large",style:{width:"8%"},onClick:Ct})]})})})]})})}export{fn as default};
