var Nt=Object.defineProperty;var Bt=(t,n,e)=>n in t?Nt(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var xe=(t,n,e)=>(Bt(t,typeof n!="symbol"?n+"":n,e),e),ve=(t,n,e)=>{if(!n.has(t))throw TypeError("Cannot "+e)};var f=(t,n,e)=>(ve(t,n,"read from private field"),e?e.call(t):n.get(t)),N=(t,n,e)=>{if(n.has(t))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(t):n.set(t,e)},me=(t,n,e,r)=>(ve(t,n,"write to private field"),r?r.call(t,e):n.set(t,e),e);var h=(t,n,e)=>(ve(t,n,"access private method"),e);import{r as b,A as Pt,_ as He,g as Ot,a as B,i as Be,d as Pe,u as mt,b as F,j as l,T as De,M as _e,c as V,B as U,e as Te,F as we,P as Ae,I as pt,E as We,S as pe,C as Ut,f as Mt,h as $t,k as qe,D as Je,l as Rt,R as Vt,m as Ht,n as Wt,U as qt,o as Jt,L as Zt,p as J,q as Gt,s as Kt,t as Yt,v as Qt}from"./index-366f4b9b.js";import{u as ht}from"./useTranslation-df173f26.js";import{I as Xt}from"./index-c9f33753.js";import{d as he}from"./deleteData-e544a22c.js";var es={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"appstore-add",theme:"outlined"};const ts=es;var gt=function(n,e){return b.createElement(Pt,He(He({},n),{},{ref:e,icon:ts}))};gt.displayName="AppstoreAddOutlined";const ss=b.forwardRef(gt);const ns=async t=>{let n=`https://block-explorer-api.mainnet.zksync.io/address/${t}/transfers?limit=100&page=1`;const e=[];for(;;)try{const r=await B.get(n);if(r.status===200){const a=r.data.items;if(e.push(...a),r.data.links.next==="")break;n="https://block-explorer-api.mainnet.zksync.io/"+r.data.links.next}else{console.error("Error occurred while retrieving transactions.");break}}catch(r){console.error("Error occurred while making the request:",r);break}return e},rs=async t=>{const n=await B.post("https://mainnet.era.zksync.io/",{id:42,jsonrpc:"2.0",method:"zks_getTokenPrice",params:["0x0000000000000000000000000000000000000000"]}),e={USDC:1,USDT:1,ZKUSD:1,CEBUSD:1,LUSD:1,ETH:parseInt(n.data.result)};t.forEach(r=>{r.transfers.forEach(a=>{a.token.price=e[a.token.symbol.toUpperCase()]}),r.transfers=r.transfers.filter(a=>a.token.price!==void 0)})},as=async t=>{let n=`https://block-explorer-api.mainnet.zksync.io/transactions?address=${t}&limit=100&page=1`;const e=[],r=await Ot();for(;;)try{const o=await B.get(n);if(o.status===200){if(o.data.items.forEach(u=>{const{hash:p,to:g,from:y,data:I,isL1Originated:v,fee:R,receivedAt:W,value:K}=u;e.push({hash:p,to:g,from:y,data:I,isL1Originated:v,fee:R,receivedAt:W,transfers:[],ethValue:parseInt(r),value:K})}),o.data.links.next==="")break;n="https://block-explorer-api.mainnet.zksync.io/"+o.data.links.next}else{console.error("Error occurred while retrieving transactions.");break}}catch(o){console.error("Error occurred while making the request:",o);break}return(await ns(t)).forEach(o=>{o.token!==null&&e.forEach(i=>{i.hash===o.transactionHash&&i.transfers.push(o)})}),await rs(e),await Be(Pe),await mt("zkTransactions",{address:t,data:JSON.stringify(e)}),e},os=async t=>{let n=0;return t.forEach(e=>{const r=parseInt(e.fee,16)*1e-18*e.ethValue;n+=r}),n.toFixed(2)},is=t=>{let n=0;return t.forEach(e=>{const r=e.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(r.length===0)return;const a=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price;n+=a}),n.toFixed(2)},cs=t=>{const n=(new Date().getTime()-new Date(t).getTime())/1e3;if(n<60)return F.t("secondsAgo",{count:Math.round(n)});const e=n/60;if(e<60)return F.t("minutesAgo",{count:Math.round(e)});const r=e/60;if(r<24)return F.t("hoursAgo",{count:Math.round(r)});const a=r/24;return F.t("daysAgo",{count:Math.round(a)})},ls=t=>{const n=t.getFullYear(),e=new Date(n,0,1),r=(t.getDay()+6)%7,a=Math.floor((t.getTime()-e.getTime())/864e5),o=Math.floor((a+e.getDay()-r)/7);return`${n}-${o}`},ds=(t,n)=>{const e=new Set,r=new Set,a=new Set,o=new Set;return n.forEach(i=>{if(i.from.toLowerCase()!==t.toLowerCase())return;const u=new Date(i.receivedAt),p=u.getFullYear(),g=u.getMonth(),y=u.getDate(),I=ls(u);e.add(`${p}-${g}-${y}`),r.add(`${p}-${I}`),a.add(`${p}-${g}`),o.add(i.to)}),{dayActivity:e.size,weekActivity:r.size,monthActivity:a.size,contractActivity:o.size}},us=async(t,n)=>{if(n.length===0)return{dayActivity:0,weekActivity:0,monthActivity:0,contractActivity:0,zks2_last_tx:F.t("noTransaction")};const{dayActivity:e,weekActivity:r,monthActivity:a,contractActivity:o}=ds(t,n),i=n[0],u=cs(i.receivedAt)||F.t("noTransaction");return{dayActivity:e,weekActivity:r,monthActivity:a,contractActivity:o,zks2_last_tx:u}};async function fs(t){try{let n="https://block-explorer-api.mainnet.zksync.io/address/"+t;const e=await B.get(n);let r,a,o;return"0x000000000000000000000000000000000000800A"in e.data.balances?(a=e.data.balances["0x000000000000000000000000000000000000800A"].balance,a=(Number(a)/10**18).toFixed(3)):a=0,"0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4"in e.data.balances?(o=e.data.balances["0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4"].balance,o=(Number(o)/10**6).toFixed(2)):o=0,r=e.data.sealedNonce,{zks2_balance:a,zks2_tx_amount:r,zks2_usdcBalance:o}}catch(n){return console.error(n),{zks2_balance:"-",zks2_tx_amount:"-",zks2_usdcBalance:"-"}}}const ms=t=>{const n=(new Date().getTime()-new Date(t).getTime())/1e3;if(n<60)return F.t("secondsAgo",{count:Math.round(n)});const e=n/60;if(e<60)return F.t("minutesAgo",{count:Math.round(e)});const r=e/60;if(r<24)return F.t("hoursAgo",{count:Math.round(r)});const a=r/24;return F.t("daysAgo",{count:Math.round(a)})};async function ps(t){try{const e=(await B.get(`https://api.zksync.io/api/v0.2/accounts/${t}/transactions`,{params:{from:"latest",limit:"25",direction:"older"}})).data;return e.result.list.length===0?F.t("noTransaction"):ms(e.result.list[0].createdAt)}catch(n){return console.log(n),"-"}}async function hs(t){try{let n="https://api.zksync.io/jsrpc";const e=await B.post(n,{id:1,jsonrpc:"2.0",method:"account_info",params:[t]});let r;"ETH"in e.data.result.committed.balances?r=(e.data.result.committed.balances.ETH/10**18).toFixed(3):r=0;let a=e.data.result.committed.nonce,o=await ps(t);return{zks1_balance:r,zks1_tx_amount:a,zks1_latest_tx:o}}catch(n){return console.error(n),{zks1_balance:"-",zks1_tx_amount:"-",zks1_latest_tx:"-"}}}const gs={ethereum:"https://cloudflare-eth.com",optimism:"https://optimism-mainnet.public.blastapi.io",arbitrum:"https://rpc.ankr.com/arbitrum",polygon:"https://polygon-bor.publicnode.com",bsc:"https://bscrpc.com"};async function ys(t,n){try{let e=gs[n];if(!e)return"Error: Invalid Network Name";let a=(await B.post(e,{jsonrpc:"2.0",method:"eth_getBalance",params:[t,"latest"],id:1})).data.result;return(parseInt(a,16)/10**18).toFixed(3)}catch(e){return console.error(e),"Error"}}const ks={ethereum:"https://cloudflare-eth.com",optimism:"https://optimism-mainnet.public.blastapi.io",arbitrum:"https://rpc.ankr.com/arbitrum",polygon:"https://polygon-bor.publicnode.com",bsc:"https://bscrpc.com"};async function bs(t,n){try{let e=ks[n];if(!e)return"Error: Invalid Network Name";const a=(await B.post(e,{jsonrpc:"2.0",method:"eth_getTransactionCount",params:[t,"latest"],id:1})).data.result;return parseInt(a,16)}catch(e){return console.error(e),"Error"}}const xs="6.3.0";function vs(t,n,e){const r=n.split("|").map(o=>o.trim());for(let o=0;o<r.length;o++)switch(n){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===n)return}const a=new Error(`invalid value for type ${n}`);throw a.code="INVALID_ARGUMENT",a.argument=`value.${e}`,a.value=t,a}function yt(t,n,e){for(let r in n){let a=n[r];const o=e?e[r]:null;o&&vs(a,o,r),Object.defineProperty(t,r,{enumerable:!0,value:a,writable:!1})}}function Q(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(Q).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let e="0x";for(let r=0;r<t.length;r++)e+=n[t[r]>>4],e+=n[t[r]&15];return e}if(typeof t=="object"&&typeof t.toJSON=="function")return Q(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(e=>`${Q(e)}: ${Q(t[e])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ws(t,n,e){{const a=[];if(e){if("message"in e||"code"in e||"name"in e)throw new Error(`value will overwrite populated values: ${Q(e)}`);for(const o in e){const i=e[o];a.push(o+"="+Q(i))}}a.push(`code=${n}`),a.push(`version=${xs}`),a.length&&(t+=" ("+a.join(", ")+")")}let r;switch(n){case"INVALID_ARGUMENT":r=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(t);break;default:r=new Error(t)}return yt(r,{code:n}),e&&Object.assign(r,e),r}function T(t,n,e,r){if(!t)throw ws(n,e,r)}function x(t,n,e,r){T(t,n,"INVALID_ARGUMENT",{argument:e,value:r})}["NFD","NFC","NFKD","NFKC"].reduce((t,n)=>{try{if("test".normalize(n)!=="test")throw new Error("bad");if(n==="NFD"){const e=String.fromCharCode(233).normalize("NFD"),r=String.fromCharCode(101,769);if(e!==r)throw new Error("broken")}t.push(n)}catch{}return t},[]);function As(t,n,e){if(e==null&&(e=""),t!==n){let r=e,a="new";e&&(r+=".",a+=" "+e),T(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:a})}}function Ss(t,n,e){if(t instanceof Uint8Array)return e?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let a=2;for(let o=0;o<r.length;o++)r[o]=parseInt(t.substring(a,a+2),16),a+=2;return r}x(!1,"invalid BytesLike value",n||"value",t)}function Is(t,n){return Ss(t,n,!1)}const kt=BigInt(0),X=BigInt(1),ee=9007199254740991;function Ee(t,n){const e=bt(t,"value"),r=BigInt(ge(n,"width"));if(T(e>>r===kt,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),e>>r-X){const a=(X<<r)-X;return-((~e&a)+X)}return e}function Ze(t,n){const e=bt(t,"value"),r=BigInt(ge(n,"bits"));return e&(X<<r)-X}function Oe(t,n){switch(typeof t){case"bigint":return t;case"number":return x(Number.isInteger(t),"underflow",n||"value",t),x(t>=-ee&&t<=ee,"overflow",n||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(e){x(!1,`invalid BigNumberish string: ${e.message}`,n||"value",t)}}x(!1,"invalid BigNumberish value",n||"value",t)}function bt(t,n){const e=Oe(t,n);return T(e>=kt,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),e}const Ge="0123456789abcdef";function zs(t){if(t instanceof Uint8Array){let n="0x0";for(const e of t)n+=Ge[e>>4],n+=Ge[e&15];return BigInt(n)}return Oe(t)}function ge(t,n){switch(typeof t){case"bigint":return x(t>=-ee&&t<=ee,"overflow",n||"value",t),Number(t);case"number":return x(Number.isInteger(t),"underflow",n||"value",t),x(t>=-ee&&t<=ee,"overflow",n||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return ge(BigInt(t),n)}catch(e){x(!1,`invalid numeric string: ${e.message}`,n||"value",t)}}x(!1,"invalid numeric value",n||"value",t)}const Ds=BigInt(-1),C=BigInt(0),te=BigInt(1),_s=BigInt(5),Y={};let se="0000";for(;se.length<80;)se+=se;function Z(t){let n=se;for(;n.length<t;)n+=n;return BigInt("1"+n.substring(0,t))}function oe(t,n,e){const r=BigInt(n.width);if(n.signed){const a=te<<r-te;T(e==null||t>=-a&&t<a,"overflow","NUMERIC_FAULT",{operation:e,fault:"overflow",value:t}),t>C?t=Ee(Ze(t,r),r):t=-Ee(Ze(-t,r),r)}else{const a=te<<r;T(e==null||t>=0&&t<a,"overflow","NUMERIC_FAULT",{operation:e,fault:"overflow",value:t}),t=(t%a+a)%a&a-te}return t}function Se(t){typeof t=="number"&&(t=`fixed128x${t}`);let n=!0,e=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")n=!1;else{const o=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);x(o,"invalid fixed format","format",t),n=o[1]!=="u",e=parseInt(o[2]),r=parseInt(o[3])}}else if(t){const o=t,i=(u,p,g)=>o[u]==null?g:(x(typeof o[u]===p,"invalid fixed format ("+u+" not "+p+")","format."+u,o[u]),o[u]);n=i("signed","boolean",n),e=i("width","number",e),r=i("decimals","number",r)}x(e%8===0,"invalid FixedNumber width (not byte aligned)","format.width",e),x(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const a=(n?"":"u")+"fixed"+String(e)+"x"+String(r);return{signed:n,width:e,decimals:r,name:a}}function Ts(t,n){let e="";t<C&&(e="-",t*=Ds);let r=t.toString();if(n===0)return e+r;for(;r.length<=n;)r=se+r;const a=r.length-n;for(r=r.substring(0,a)+"."+r.substring(a);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return e+r}var j,m,w,$,G,L,M,ie,je,ce,Le,le,Fe,de,Ne;const H=class{constructor(n,e,r){N(this,$);N(this,L);N(this,ie);N(this,ce);N(this,le);N(this,de);xe(this,"format");N(this,j,void 0);N(this,m,void 0);N(this,w,void 0);xe(this,"_value");As(n,Y,"FixedNumber"),me(this,m,e),me(this,j,r);const a=Ts(e,r.decimals);yt(this,{format:r.name,_value:a}),me(this,w,Z(r.decimals))}get signed(){return f(this,j).signed}get width(){return f(this,j).width}get decimals(){return f(this,j).decimals}get value(){return f(this,m)}addUnsafe(n){return h(this,ie,je).call(this,n)}add(n){return h(this,ie,je).call(this,n,"add")}subUnsafe(n){return h(this,ce,Le).call(this,n)}sub(n){return h(this,ce,Le).call(this,n,"sub")}mulUnsafe(n){return h(this,le,Fe).call(this,n)}mul(n){return h(this,le,Fe).call(this,n,"mul")}mulSignal(n){h(this,$,G).call(this,n);const e=f(this,m)*f(n,m);return T(e%f(this,w)===C,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),h(this,L,M).call(this,e/f(this,w),"mulSignal")}divUnsafe(n){return h(this,de,Ne).call(this,n)}div(n){return h(this,de,Ne).call(this,n,"div")}divSignal(n){T(f(n,m)!==C,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),h(this,$,G).call(this,n);const e=f(this,m)*f(this,w);return T(e%f(n,m)===C,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),h(this,L,M).call(this,e/f(n,m),"divSignal")}cmp(n){let e=this.value,r=n.value;const a=this.decimals-n.decimals;return a>0?r*=Z(a):a<0&&(e*=Z(-a)),e<r||e>r?-1:0}eq(n){return this.cmp(n)===0}lt(n){return this.cmp(n)<0}lte(n){return this.cmp(n)<=0}gt(n){return this.cmp(n)>0}gte(n){return this.cmp(n)>=0}floor(){let n=f(this,m);return f(this,m)<C&&(n-=f(this,w)-te),n=f(this,m)/f(this,w)*f(this,w),h(this,L,M).call(this,n,"floor")}ceiling(){let n=f(this,m);return f(this,m)>C&&(n+=f(this,w)-te),n=f(this,m)/f(this,w)*f(this,w),h(this,L,M).call(this,n,"ceiling")}round(n){if(n==null&&(n=0),n>=this.decimals)return this;const e=this.decimals-n,r=_s*Z(e-1);let a=this.value+r;const o=Z(e);return a=a/o*o,oe(a,f(this,j),"round"),new H(Y,a,f(this,j))}isZero(){return f(this,m)===C}isNegative(){return f(this,m)<C}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(n){return H.fromString(this.toString(),n)}static fromValue(n,e,r){e==null&&(e=0);const a=Se(r);let o=Oe(n,"value");const i=e-a.decimals;if(i>0){const u=Z(i);T(o%u===C,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:n}),o/=u}else i<0&&(o*=Z(-i));return oe(o,a,"fromValue"),new H(Y,o,a)}static fromString(n,e){const r=n.match(/^(-?)([0-9]*)\.?([0-9]*)$/);x(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",n);const a=Se(e);let o=r[2]||"0",i=r[3]||"";for(;i.length<a.decimals;)i+=se;T(i.substring(a.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:n}),i=i.substring(0,a.decimals);const u=BigInt(r[1]+o+i);return oe(u,a,"fromString"),new H(Y,u,a)}static fromBytes(n,e){let r=zs(Is(n,"value"));const a=Se(e);return a.signed&&(r=Ee(r,a.width)),oe(r,a,"fromBytes"),new H(Y,r,a)}};let Ce=H;j=new WeakMap,m=new WeakMap,w=new WeakMap,$=new WeakSet,G=function(n){x(this.format===n.format,"incompatible format; use fixedNumber.toFormat","other",n)},L=new WeakSet,M=function(n,e){return n=oe(n,f(this,j),e),new H(Y,n,f(this,j))},ie=new WeakSet,je=function(n,e){return h(this,$,G).call(this,n),h(this,L,M).call(this,f(this,m)+f(n,m),e)},ce=new WeakSet,Le=function(n,e){return h(this,$,G).call(this,n),h(this,L,M).call(this,f(this,m)-f(n,m),e)},le=new WeakSet,Fe=function(n,e){return h(this,$,G).call(this,n),h(this,L,M).call(this,f(this,m)*f(n,m)/f(this,w),e)},de=new WeakSet,Ne=function(n,e){return T(f(n,m)!==C,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),h(this,$,G).call(this,n),h(this,L,M).call(this,f(this,m)*f(this,w)/f(n,m),e)};const Es=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Cs(t,n){let e=18;if(typeof n=="string"){const r=Es.indexOf(n);x(r>=0,"invalid unit","unit",n),e=3*r}else n!=null&&(e=ge(n,"unit"));return Ce.fromValue(t,e,{decimals:e}).toString()}function Ke(t){return Cs(t,18)}const js=(t,n)=>{let e=0,r=0,a=0,o=0;return t.forEach(i=>{const u=i.from,p=i.to,g=i.isL1Originated;if(u.toLowerCase()===n.toLowerCase()){if(g){e++;const y=Ke(i.value);r+=parseFloat(y)}if(p.toLowerCase()==="0x000000000000000000000000000000000000800A".toLowerCase()){a++;const y=Ke(i.value);o+=parseFloat(y)}}}),{l1Tol2Times:e,l1Tol2Amount:r.toFixed(3),l2Tol1Times:a,l2Tol1Amount:o.toFixed(3)}},Ls=async(t,n)=>{let e;if(!n)return e={score:"-",rank:"-",top:"-"},e;try{const r="https://mp.trustalabs.ai/zksyncera/score?account="+t+"&chainId=324",a=await B.get(r);if(a.data.message==="request success"){const o=a.data.data.score,i=a.data.data.rankValue.rank,u=a.data.data.rankValue.total,p=(Number(i)/Number(u)*100).toFixed(1);e={score:Number(o).toFixed(0),rank:i,top:p}}else e={score:0,rank:-1,top:100}}catch(r){e={score:"-",rank:"-",top:"-"},console.log(r.message)}return e},Fs=t=>{const n=t.getFullYear(),e=new Date(n,0,1),r=(t.getDay()+6)%7,a=Math.floor((t.getTime()-e.getTime())/864e5),o=Math.floor((a+e.getDay()-r)/7);return`${n}-${o}`},A=(t,n,e,r=[])=>{const a=new Set,o=new Set,i=new Set;return n.forEach(u=>{if(e!=="zksynceraportal"&&!r.includes(u.to.toLowerCase())&&!r.includes(u.from.toLowerCase())||e==="zksynceraportal"&&!u.data.startsWith("0x51cff8d9")&&!(u.to.toLowerCase()===t.toLowerCase()&&u.isL1Originated))return;const p=new Date(u.receivedAt),g=p.getFullYear(),y=p.getMonth(),I=p.getDate(),v=Fs(p);a.add(`${g}-${y}-${I}`),o.add(`${g}-${v}`),i.add(`${g}-${y}`)}),{days:a.size,weeks:o.size,months:i.size}},Ye="0x2da10a1e27bf85cedd8ffb1abbe97e53391c0295",Qe=["0x80115c708e12edd42e504c1cd52aea96c547c05c","0x176b23f1ddfeedd10fc250b8f769362492ef810b","0x4e7d2e3f40998daeb59a316148bfbf8efd1f7f3c","0xae092fcec5fd04836b12e87da0d7ed3a707b38b0"],Ns={getProtocolsState:(t,n)=>{const e={name:"SyncSwap",id:"syncswap",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://syncswap.xyz/"};return t.forEach(r=>{if(Ye.includes(r.to.toLowerCase())||Qe.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=A(n,t,e.id,Qe.concat([Ye])).days,e}},Xe=["0xd2ca21df45479824f954a6e1759d436a57d63faf","0x1f090f91ee09768ca36dcd52640f4a5eae146555","0xc523df658dbec88dc03fb23a703bcbd7ffb5ea01","0x116a4a5ed4c7d5712e109d4188e17616d8e5784a","0x8d123a2a0a7c98555931ceda6917b865b7345164"],Bs={getProtocolsState:(t,n)=>{const e={name:"Goal3",id:"goal3",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://beta.goal3.xyz/",tag:"Gasless"};return t.forEach(r=>{if(Xe.includes(r.to.toLowerCase())){if(r.data.startsWith("0xbd95e4f1")){const a=parseInt(r.data.slice(-64),16)*1e-6;e.volume+=a}else{const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}e.interactions+=1,e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt)}}),e.activeDays=A(n,t,e.id,Xe).days,e}},et=["0x7b4872e2096ec9410b6b8c8b7d039589e6ee8022","0xaf08a9d918f16332f22cf8dc9abe9d9e14ddcbc2"],Ps={getProtocolsState:(t,n)=>{const e={name:"Holdstation",id:"holdstation",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://holdstation.exchange/"};return t.forEach(r=>{if(et.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=A(n,t,e.id,et).days,e}},tt=["0x33d9936b7b7bc155493446b5e6ddc0350eb83aec","0x7499ce9c8f4ff47be5dd5308ab54cc710de751e1","0xbc94aedd2a0a986476b89e072b05e0df117a3f8b","0xc319755dff1601b3d0520b421a281b11bf22e80f","0x8df80089b7ab1646db211d43949ecdfc94582011","0x0066f3791bd9d5a25d88f978dd8e1006445fe0d6","0x377ec7c9ae5a0787f384668788a1654249059dd6","0x3ec82c07981d6d213da9bd35a0ba4cd324fea438","0x9606ec131eec0f84c95d82c9a63959f2331cf2ac","0x936c9a1b8f88bfdbd5066ad08e5d773bc82eb15f","0x8b9d7d609a83b2f69d2135786a7d230043af7283","0x7dee7de9814ed6c1e20b3e4e2fa9b1b96e15fde1"],Os={getProtocolsState:(t,n)=>{const e={name:"iZUMi finance",id:"izumi",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://izumi.finance/home"};return t.forEach(r=>{if(tt.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=A(n,t,e.id,tt).days,e}},st=["0xfd54762d435a490405dda0fbc92b7168934e8525","0x852639ee9dd090d30271832332501e87d287106c","0x77ee88b1c9cce741ec35553730eb1f19cd45a379","0x39e098a153ad69834a9dac32f0fca92066ad03f4"],Us={getProtocolsState:(t,n)=>{const e={name:"Maverick",id:"maverick",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://app.mav.xyz/"};return t.forEach(r=>{if(st.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=A(n,t,e.id,st).days,e}},nt="0x8b791913eb07c32779a16750e3868aa8495f5964",rt=["0xdfaab828f5f515e104baaba4d8d554da9096f0e4","0xb85feb6af3412d690dfda280b73eaed73a2315bc"],Ms={getProtocolsState:(t,n)=>{const e={name:"Mute.io",id:"muteio",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://mute.io/"};return t.forEach(r=>{if(nt.includes(r.to.toLowerCase())||rt.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=A(n,t,e.id,rt.concat([nt])).days,e}},at=["0x84c18204c30da662562b7a2c79397c9e05f942f0","0xca806b267fc0c1c12edbf77a2e5bca5939c7d953","0xaa08a6d7b10724d03b8f4857d4fa14e7f92814e3","0x10c8044ae3f2b1c7decb439ff2dc1164d750c39d","0xe676b11421d68a28ba50920f2841183af93067a2","0x6219f06135b79705d34f5261852e9f6b98821e1f"],$s={getProtocolsState:(t,n)=>{const e={name:"Onchain Trade",id:"onchaintrade",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://onchain.trade/"};return t.forEach(r=>{if(at.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=A(n,t,e.id,at).days,e}},Ie=["0xe4edb277e41dc89ab076a1f049f4a3efa700bce8","0x80c67432656d59144ceff962e8faf8926599bcf8","0xee73323912a4e3772b74ed0ca1595a152b0ef282","0x0a88BC5c32b684D467b43C06D9e0899EfEAF59Df"],Rs={getProtocolsState:(t,n)=>{const e={name:"Orbiter Finance",id:"orbiter",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://orbiter.finance/"};return t.forEach(r=>{if(Ie.includes(r.to.toLowerCase())||Ie.includes(r.from.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=A(n,t,e.id,Ie).days,e}},ot=["0xefde2aefe307a7362c7e0e3be019d1491dc7e163","0xba5f1898f3af43e30b552cac559f11f5d5a2fd1e","0xf9895dcb26c60743fce3ae54f506c47b763693bb","0xbbca935fb05d8671b8875293c2d82df73105ac60","0xc8db02c5900de3ed03139e9ec62a84b2f5e06d7f","0xc2e9dfb2fded2139b0b60c6781b4c648f1385c16","0x0ed4a1c66fcdf17341177422e73ca919284e040c","0x015d01187a77055fadb96c63a9de9f8981e3d0f5","0x9eb48ce91a77ff37f2edd032c90d7ec6a953b4fd","0x1f79cce5b8876a07541900e681b31a8e51766b5a","0xf77ded0ae91c41c432555beb25da2a6658338e5a","0xcc8b6c37fb97bdc774f0ea7f8b047e8ee057458c","0xc05c6a229c6ed34b9d31c88421d70ef71fbaabcf","0xf35eb225803ccf6ffb64be531bb91132a9229196","0x277e57e33c92c7f145832274384eeef35828db3d","0x2dddd703578d1f5bd1fad113c9e12f0c416305d5","0xd23432901c0754e28999661f31ab4aa3633ec2ed","0x747cc81b6c2b4afe13be59d31591d4229854b826","0xa0c13b5eca719be98ef27d0c4111cb5abbe97731","0x824422bd3ba030ca9ca5bcad26dfd4b45409849d","0xd2589f416c9412572df8d94fa1d58073c9f8f3bf","0x7bd375b95a1dbcbddb1e8219a01c550b21ed6ea2","0x5b91962f5eca75e6558e4d32df69b30f75cc6fe5","0x901b51b9a4214990ac6f0fd50a45df1573b7a51a"],Vs={getProtocolsState:(t,n)=>{const e={name:"Rollup Finance",id:"rollup",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://rollup.finance/"};return t.forEach(r=>{if(ot.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=A(n,t,e.id,ot).days,e}},it=["0x0700fb51560cfc8f896b2c812499d17c5b0bf6a7","0xe8826fc3ce6e74932144dbc2b369e7b52e88193a","0x7cf85f98c0339559eab22deea1e018721e800add","0xb376fceacd9fef24a342645cbf72a4c439ea0614","0xacf5a67f2fcfeda3946ccb1ad9d16d2eb65c3c96","0x4ad9ee1698b6d521ebb2883dd9fc3655c7553561","0x00f093ff2bca9da894396336286c7c5bd2310ca5","0x307baa142ba2bfa4a3059efb631899c992a193ee","0x77d807b74d54b81a87a5769176bc7719f676c8ce","0xbe7d1fd1f6748bbdefc4fbacafbb11c6fc506d1d"],Hs={getProtocolsState:(t,n)=>{const e={name:"SpaceFi",id:"spacefi",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://spacefi.io/"};return t.forEach(r=>{if(it.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=A(n,t,e.id,it).days,e}},ct=["0x1bdb8250eaf3c596441e6c3417c9d5195d6c85b9"],Ws={getProtocolsState:(t,n)=>{const e={name:"Starmaker",id:"starmaker",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://starmaker.exchange/"};return t.forEach(r=>{if(ct.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=A(n,t,e.id,ct).days,e}},lt="0xd999e16e68476bc749a28fc14a0c3b6d7073f50c",dt=["0xcd52cbc975fbb802f82a1f92112b1250b5a997df"],qs={getProtocolsState:(t,n)=>{const e={name:"Velocore",id:"velocore",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://velocore.xyz/"};return t.forEach(r=>{if(lt.includes(r.to.toLowerCase())||dt.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=A(n,t,e.id,dt.concat([lt])).days,e}},Js={getProtocolsState:(t,n)=>{const e={name:"zkSync Era Portal",id:"zksynceraportal",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://portal.zksync.io/bridge"};return t.forEach(r=>{if(r.to.toLowerCase()==="0x000000000000000000000000000000000000800a"&&r.data.startsWith("0x51cff8d9")||r.to.toLowerCase()===n.toLowerCase()&&r.isL1Originated){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=A(n,t,e.id,["0x000000000000000000000000000000000000800a"]).days,e}},ze=["0xa531ece441138d8ce52642ad497059f2a79fd96f"],Zs={getProtocolsState:(t,n)=>{const e={name:"zkSync ID",id:"zksyncid",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://www.zksyncid.xyz/"};return t.forEach(r=>{if(ze.includes(r.to.toLowerCase())||ze.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=A(n,t,e.id,ze).days,e}},ut=["0xae23b6e7f91ddebd3b70d74d20583e3e674bd94f"],Gs={getProtocolsState:(t,n)=>{const e={name:"zkSync Name Service",id:"zksyncnameservice",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://app.zkns.domains/"};return t.forEach(r=>{if(ut.includes(r.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=r.receivedAt),new Date(e.lastActivity)<new Date(r.receivedAt)&&(e.lastActivity=r.receivedAt),e.interactions+=1;const a=r.transfers.sort((o,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(o.amount)*10**-o.token.decimals*o.token.price);if(a.length===0)return;e.volume+=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price}}),e.activeDays=A(n,t,e.id,ut).days,e}},Ks=async(t,n)=>{const e=Ns.getProtocolsState(t,n),r=Bs.getProtocolsState(t,n),a=Ps.getProtocolsState(t,n),o=Os.getProtocolsState(t,n),i=Us.getProtocolsState(t,n),u=Ms.getProtocolsState(t,n),p=$s.getProtocolsState(t,n),g=Rs.getProtocolsState(t,n),y=Vs.getProtocolsState(t,n),I=Hs.getProtocolsState(t,n),v=Ws.getProtocolsState(t,n),R=qs.getProtocolsState(t,n),W=Js.getProtocolsState(t,n),K=Zs.getProtocolsState(t,n),ye=Gs.getProtocolsState(t,n),ue=await Promise.all([e,r,a,o,i,u,p,g,y,I,v,R,W,K,ye]);await Be(Pe),await mt("zkProtocol",{address:n,data:JSON.stringify(ue)})},Ys=async t=>{try{const n="https://qr-mint.g7p.io/api/checkWhitelist?wallet="+t,r=(await B.get(n,{timeout:2e4})).data.success===!0?"yes":"no";return console.log(r),r}catch(n){return n.response&&n.response.status===400&&n.response.data&&n.response.data.message==="Your address is not eligible for this initial mint. Follow @zksync on Twitter for opportunities to mint the Libertas Omnibus project 🫡"?"no":"error"}},ft=async(t,n)=>{try{const e=await as(t),r=await os(e),a=is(e),o=await us(t,e),i=await fs(t),u=await hs(t),p=await ys(t,"ethereum"),g=await bs(t,"ethereum"),y=js(e,t),I=await Ls(t,n);await Ks(e,t);const v=await Ys(t);return{totalFee:r,totalExchangeAmount:a,activity:o,zksEraBalance:i,zksLiteBalance:u,eth_balance:p,eth_tx_amount:g,bridge:y,trustData:I,isCanClaim:v,result:"success"}}catch(e){return{result:"error",reason:e.message}}},Qs=t=>{const{t:n}=ht(),e=[{key:"1",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/izumi-1.png",name:"iziswap",category:"DEX",url:"https://zksync.izumi.finance/swap",description:"izumi_Finance是专注流动性的多链DeFi协议，刚刚完成了新一轮22M的融资，iZiSwap上线zkSync一个月，TVL便突破40M，目前是zksync第二的dex,未来会把zksync给予项目方潜在空投的50%，用来回馈给用户。"},{key:"2",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem-logo-2/eco-logo-Galaxy-Owlto-Finance.png",name:"Owlto",category:"Bridge",url:"https://owlto.finance/",description:"Owlto is a decentralized Cross-Rollup bridge."},{key:"3",logo:"https://portal.zksync.io/_nuxt/icons/64x64.cb7cab0d.png",name:"zkSync Portal",category:"Portal",url:"https://portal.zksync.io/",description:"zkSync官方钱包门户。"},{key:"4",logo:"https://portal.zksync.io/_nuxt/icons/64x64.cb7cab0d.png",name:"zkSync Bridge",category:"Bridge",url:"https://portal.zksync.io/bridge/",description:"zkSync官方桥。"},{key:"5",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/meson.svg",name:"meson",category:"Bridge",url:"https://meson.fi/?from=bitboxtools",description:"Meson是一个领先的稳定币跨链协议，它允许稳定币在不同的区块链之间进行跨链交易。该协议支持 USDC、USDT 和 BUSD 等主流稳定币在 zkSync 和其他20条主流公链之间的跨链操作。"},{key:"6",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/hito-transparent.svg",name:"Argent",category:"Wallet",url:"https://www.argent.xyz/",description:"Argent是一款基于以太坊的移动钱包，支持zkSync。"},{key:"7",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/Group%20104439%20-%20Naomi%20LI.svg",name:"Element Market",category:"NFT",url:"https://element.market/",description:"Element Market是一个聚合NFT市场。"},{key:"8",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/orbiter-1.png",name:"Orbiter",category:"Bridge",url:"https://orbiter.finance",description:"Orbiter是一个跨链桥。"},{key:"9",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/okxwallet.png",name:"OKX Wallet",category:"Wallet",url:"https://www.okx.com/cn/web3",description:"OKX Wallet,Web3 的入口。"},{key:"10",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem-logo-2/eco-logo-DeBank.png",name:"DeBank",category:"Defi",url:"https://debank.com/",description:"DeBank是一个去中心化的钱包聚合资产平台。"}],r=Array.from(new Set(e.map(u=>u.category))).map(u=>({text:u,value:u})),a=[{title:"",dataIndex:"logo",key:"logo",align:"center",render:u=>l.jsx(Xt,{src:u,alt:"logo",style:{width:"40px",height:"40px",objectFit:"contain"}})},{title:n("protocol"),dataIndex:"name",key:"name",align:"center"},{title:n("category"),dataIndex:"category",key:"category",align:"center",filters:r,onFilter:(u,p)=>p.category===u},{title:n("link"),dataIndex:"url",key:"url",align:"center",render:u=>l.jsx(De,{title:n("tip"),children:l.jsx("a",{href:u,target:"_blank",rel:"noreferrer",children:u})})},{title:n("intro"),dataIndex:"description",key:"description",align:"center",render:u=>l.jsx(De,{title:u,children:l.jsx("span",{children:u.length>30?`${u.substring(0,30)}...`:u})})}],{open:o,onCancel:i}=t;return l.jsxs(_e,{title:l.jsxs(l.Fragment,{children:[n("ecosystem"),l.jsxs(V,{color:"blue",style:{marginLeft:"8px",fontWeight:"bold"},children:[" ",n("tip2")," "]})]}),open:o,onCancel:i,footer:[l.jsx(U,{onClick:i,type:"primary",children:n("close")},"close")],width:1200,centered:!0,closable:!1,bodyStyle:{height:"500px",overflow:"auto"},children:[l.jsx(Te,{columns:a,pagination:!1,size:"small",dataSource:e,style:{margin:"16px"}}),l.jsx("div",{style:{textAlign:"center",marginTop:"16px",fontWeight:"bold"},children:l.jsx("p",{children:"Wait more..."})})]})},{Content:Xs}=Zt,{TextArea:en}=pt;function on(){const{t}=ht(),[n,e]=b.useState(!1),[r,a]=b.useState([]),[o,i]=b.useState(!0),[u,p]=b.useState(!1),[g,y]=b.useState(!1),[I]=we.useForm(),[v,R]=b.useState([]),[W,K]=b.useState(!1),[ye,ue]=b.useState(!1),[xt,Ue]=b.useState(null),[fe,vt]=b.useState(null),[Me,wt]=b.useState(!1),[ke,$e]=b.useState(!0);let Re=r.length+1;b.useEffect(()=>{const c=localStorage.getItem("isGetTustalabsData");c&&$e(c==="true")},[]),b.useEffect(()=>{ue(!0);const c=localStorage.getItem("addresses");setTimeout(()=>{ue(!1)},500),c&&a(JSON.parse(c)),wt(!0)},[]),b.useEffect(()=>{Me&&localStorage.setItem("addresses",JSON.stringify(r))},[r,Me]);const Ve=async c=>{const d=c?[c]:v;if(!d.length){J.error({message:t("zk_error"),description:t("zk_error_msg3"),duration:1});return}K(!0);try{let E=0,P=[];const ne=()=>{for(;P.length>0&&E<5;){const k=P.shift();E+=1,k().finally(()=>{E-=1,ne()})}};for(let k of d){const O=r.findIndex(re=>re.key===k);if(O!==-1){const re=()=>new Promise(async(be,ae)=>{try{a(D=>{const S=[...D];for(let _ in S[O])_!=="address"&&_!=="name"&&_!=="key"&&(_==="result"?S[O][_]="pending":S[O][_]=null);return S});const q=await ft(r[O].address,ke);a(D=>{const S=[...D];return S[O]={...S[O],...q},localStorage.setItem("addresses",JSON.stringify(S)),S}),be()}catch(q){ae(q)}});P.push(re)}}for(ne();E>0||P.length>0;)await new Promise(k=>setTimeout(k,100));J.success({message:"完成",description:"刷新地址数据完成",duration:1})}catch(z){s,J.error({message:t("zk_error"),description:z.message,duration:1})}finally{K(!1),c||R([])}},At=async()=>{try{e(!0),p(!1);const d=(await I.validateFields()).addresses.split(`
`),z=5;let E=0,P=[];const ne=()=>{for(;P.length>0&&E<z;){const k=P.shift();E+=1,k().finally(()=>{E-=1,ne()})}};for(let k of d){if(k=k.trim(),k.length!==42){J.error({message:t("zk_error"),description:t("zk_error_msg"),duration:1});continue}const O=()=>new Promise(async(re,be)=>{try{a(q=>{const D=[...q];if(D.findIndex(_=>_.address===k)===-1){const _={key:Re.toString(),address:k,result:"pending"};Re++,D.push(_)}return D});const ae=await ft(k,ke);a(q=>{const D=[...q],S=D.findIndex(_=>_.address===k);return S!==-1&&(D[S]={...D[S],...ae}),D}),re()}catch(ae){be(ae)}});P.push(O)}for(ne();E>0||P.length>0;)await new Promise(k=>setTimeout(k,100));J.success({message:"成功",description:"批量添加完成",duration:1})}catch(c){J.error({message:t("zk_error"),description:c.message,duration:1})}finally{e(!1),I.resetFields(),R([])}},St=()=>{i(!o)},It=()=>o?l.jsx(Gt,{}):l.jsx(Kt,{}),zt=()=>{p(!0)},Dt=()=>{Yt(r,"walletInfo")},_t=async c=>{a(r.filter(d=>d.address!==c)),localStorage.setItem("addresses",JSON.stringify(r.filter(d=>d.address!==c))),await he("zkProtocol",[c]),await he("zkTransactions",[c])},Tt=async()=>{if(!v.length){J.error({message:t("zk_error"),description:t("zk_error_msg2"),duration:1});return}const c=r.filter(d=>v.includes(d.key)).map(d=>d.address);await he("zkTransactions",c),await he("zkProtocol",c),a(r.filter(d=>!v.includes(d.key))),localStorage.setItem("addresses",JSON.stringify(r.filter(d=>!v.includes(d.key)))),R([])},Et={selectedRowKeys:v,onChange:c=>{R(c)}},Ct=()=>{p(!1)},jt=async c=>{await Be(Pe);const d=await Qt("zkProtocol",c);console.log(d);const z=d.data?JSON.parse(d.data):[];return{address:c,protocols:z}},Lt=[{title:"#",key:"index",align:"center",render:(c,d,z)=>z+1},{title:t("notes"),dataIndex:"name",key:"name",align:"center",render:(c,d)=>{const z=c||l.jsx(We,{});return l.jsx(Ae,{title:l.jsx("div",{children:l.jsx(pt,{placeholder:"请输入备注",defaultValue:c,onChange:E=>{d.name=E.target.value},allowClear:!0,bordered:!0})}),icon:l.jsx(We,{}),onConfirm:()=>{a([...r]),localStorage.setItem("addresses",JSON.stringify(r))},onCancel:()=>{},okText:"确定",cancelText:"取消",children:l.jsx(V,{color:"blue",style:{cursor:"pointer"},children:z})})}},{title:l.jsxs("span",{children:[t("address"),l.jsx("span",{onClick:St,style:{marginLeft:8,cursor:"pointer"},children:It()})]}),dataIndex:"address",key:"address",align:"center",render:c=>o?c.slice(0,4)+"***"+c.slice(-4):c},{title:"ETH",key:"eth_group",className:"zks_eth",children:[{title:"ETH",dataIndex:"eth_balance",key:"eth_balance",align:"center"},{title:"Tx",dataIndex:"eth_tx_amount",key:"eth_tx_amount",align:"center"}]},{title:"zkSyncLite",key:"zks_lite_group",className:"zks_lite",children:[{title:"ETH",dataIndex:["zksLiteBalance","zks1_balance"],key:"zks1_balance",align:"center"},{title:"Tx",dataIndex:["zksLiteBalance","zks1_tx_amount"],key:"zks1_tx_amount",align:"center",sorter:(c,d)=>c.zksLiteBalance.zks1_tx_amount-d.zksLiteBalance.zks1_tx_amount},{title:t("last_tx"),dataIndex:["zksLiteBalance","zks1_latest_tx"],key:"zks1_latest_tx",align:"center"}]},{title:"zkSyncEra",key:"zks_era_group",className:"zks_era",children:[{title:"ETH",dataIndex:["zksEraBalance","zks2_balance"],key:"zks2_balance",align:"center"},{title:"USDC",dataIndex:["zksEraBalance","zks2_usdcBalance"],key:"zks2_usdcBalance",align:"center"},{title:"Tx",dataIndex:["zksEraBalance","zks2_tx_amount"],key:"zks2_tx_amount",align:"center",sorter:(c,d)=>c.zksEraBalance.zks2_tx_amount-d.zksEraBalance.zks2_tx_amount},{title:t("last_tx"),dataIndex:["activity","zks2_last_tx"],key:"zks2_last_tx",align:"center",render:(c,d)=>l.jsx("a",{href:"https://explorer.zksync.io/address/"+d.address,target:"_blank",children:c})},{title:t("official_bridge_tx"),key:"cross_chain_tx_count_group",children:[{title:"L1->L2",dataIndex:["bridge","l1Tol2Times"],key:"l1Tol2Times",align:"center"},{title:"L2->L1",dataIndex:["bridge","l2Tol1Times"],key:"l2Tol1Times",align:"center"}]},{title:t("official_bridge_amount"),key:"cross_chain_amount_group",children:[{title:"L1->L2",dataIndex:["bridge","l1Tol2Amount"],key:"l1Tol2Amount",align:"center"},{title:"L2->L1",dataIndex:["bridge","l2Tol1Amount"],key:"l2Tol1Amount",align:"center"}]},{title:t("activities"),key:"activity_stats_group",children:[{title:t("day"),dataIndex:["activity","dayActivity"],key:"dayActivity",align:"center"},{title:t("week"),dataIndex:["activity","weekActivity"],key:"weekActivity",align:"center"},{title:t("month"),dataIndex:["activity","monthActivity"],key:"monthActivity",align:"center"},{title:t("contract"),dataIndex:["activity","contractActivity"],key:"contractActivity",align:"center"},{title:t("amount"),dataIndex:"totalExchangeAmount",key:"totalExchangeAmount",align:"center",sorter:(c,d)=>c.totalExchangeAmount-d.totalExchangeAmount},{title:t("fee"),dataIndex:"totalFee",key:"totalFee",align:"center"}]}]},{title:l.jsx("span",{children:l.jsxs(pe,{children:[l.jsx("span",{children:"Trustalabs"}),l.jsx(Ut,{checked:ke,onChange:c=>{$e(c.target.checked),localStorage.setItem("isGetTustalabsData",c.target.checked)}})]})}),key:"trustData",className:"trustData",children:[{title:t("score"),key:"score",dataIndex:["trustData","score"],align:"center",sorter:(c,d)=>c.trustData.score-d.trustData.score},{title:t("rank"),key:"rank",dataIndex:["trustData","rank"],align:"center",sorter:(c,d)=>c.trustData.rank-d.trustData.rank},{title:"Top",key:"top",dataIndex:["trustData","top"],align:"center",render:c=>c!=="-"&&c?c.toString()+"%":c,sorter:(c,d)=>c.trustData.top-d.trustData.top}]},{title:"NFT是否可领",key:"nft",align:"center",dataIndex:"isCanClaim",render:c=>l.jsxs(pe,{children:[c&&c==="yes"?l.jsx(V,{color:"success",children:"是"}):null,c&&c==="no"?l.jsx(V,{color:"error",children:"否"}):null,c&&c==="error"?l.jsx(V,{color:"error",children:"获取失败"}):null]})},{title:t("state"),key:"result",align:"center",render:(c,d)=>l.jsxs(pe,{children:[d.result==="success"?l.jsx(V,{icon:l.jsx(Mt,{}),color:"success",children:"成功"}):null,d.result==="error"?l.jsx(De,{title:d.reason,children:l.jsx(V,{icon:l.jsx($t,{}),color:"error",children:"失败 "})}):null,d.result==="pending"?l.jsx(V,{icon:l.jsx(qe,{spin:!0}),color:"processing",children:"获取中 "}):null]})},{title:t("operation"),key:"action",align:"center",render:(c,d)=>l.jsxs(pe,{size:"small",children:[l.jsx(Ae,{title:t("zk_message_confirm_delete"),onConfirm:async()=>{await _t(d.address)},children:l.jsx(U,{icon:l.jsx(Je,{})})}),l.jsx(U,{icon:l.jsx(Rt,{}),onClick:()=>{Ue(d.address),jt(d.address).then(z=>{vt(z)})}}),l.jsx(U,{icon:l.jsx(Vt,{}),onClick:()=>{Ve(d.key)}})]})}],Ft=[{title:"",dataIndex:"logo",key:"logo",align:"center",render:(c,d)=>l.jsx("img",{src:"/protocol/"+d.id+".png",style:{width:"20px",height:"20px"},alt:d.id})},{title:t("protocol"),dataIndex:"name",key:"name",align:"center",render:(c,d)=>l.jsx("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",children:c})},{title:"tx",dataIndex:"interactions",key:"interactions",sorter:(c,d)=>c.interactions-d.interactions,align:"center"},{title:t("last_tx"),dataIndex:"lastActivity",key:"lastActivity",align:"center",render:c=>c===""?"无":new Date(c).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"})},{title:t("amount"),dataIndex:"volume",key:"volume",align:"center",sorter:(c,d)=>c.volume-d.volume,defaultSortOrder:"descend",render:c=>Number(c).toFixed(2)}];return l.jsx("div",{children:l.jsxs(Xs,{children:[l.jsx(Qs,{open:g,onCancel:()=>y(!1)}),l.jsx(_e,{title:fe&&fe.address+"  "+t("address_detail"),open:xt!==null,onCancel:()=>Ue(null),footer:null,width:1e3,centered:!0,bodyStyle:{height:"500px",overflow:"auto"},children:l.jsx("div",{children:fe&&l.jsx(Te,{columns:Ft,dataSource:fe.protocols,pagination:!1,defaultSortOrder:"descend",size:"small"})})}),l.jsx(_e,{title:t("batch_add_address"),open:u,onOk:At,onCancel:Ct,okButtonProps:{loading:W},okText:"OK",cancelText:"Cancel",children:l.jsx(we,{form:I,layout:"vertical",children:l.jsx(we.Item,{label:t("address"),name:"addresses",rules:[{required:!0}],children:l.jsx(en,{placeholder:t("zk_msg"),style:{width:"500px",height:"200px"}})})})}),l.jsx("div",{style:{marginBottom:"50px"},children:l.jsx(Ht,{spinning:ye,size:"small",children:l.jsx(Te,{rowKey:c=>c.key,rowSelection:Et,dataSource:r,pagination:!1,bordered:!0,style:{marginBottom:"20px",zIndex:2},size:"small",columns:Lt})})}),l.jsx("div",{className:"zks_footer",children:l.jsx(Wt,{size:"small",style:{width:"100%"},children:l.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",gap:"10px"},children:[l.jsx(U,{type:"primary",onClick:()=>{y(!0)},size:"large",style:{width:"20%"},icon:l.jsx(ss,{}),children:l.jsx("span",{style:{color:"white"},children:t("ecosystem")})}),l.jsx(U,{type:"primary",onClick:zt,size:"large",style:{width:"20%"},icon:l.jsx(qt,{}),loading:n,children:t(n?"adding":"batch_add_address")}),l.jsx(U,{type:"primary",onClick:()=>Ve(),loading:W,size:"large",style:{width:"20%"},icon:l.jsx(qe,{}),children:t(W?"refreshing":"refresh_selected_address")}),l.jsx(Ae,{title:t("confirm_delete")+v.length+t("address_count")+"?",onConfirm:async()=>{await Tt()},children:l.jsx(U,{type:"primary",danger:!0,size:"large",style:{width:"20%"},icon:l.jsx(Je,{}),children:t("delete_selected_address")})}),l.jsx(U,{type:"primary",icon:l.jsx(Jt,{}),size:"large",style:{width:"8%"},onClick:Dt})]})})})]})})}export{on as default};
