var Ot=Object.defineProperty;var Ut=(t,n,e)=>n in t?Ot(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var ve=(t,n,e)=>(Ut(t,typeof n!="symbol"?n+"":n,e),e),we=(t,n,e)=>{if(!n.has(t))throw TypeError("Cannot "+e)};var f=(t,n,e)=>(we(t,n,"read from private field"),e?e.call(t):n.get(t)),M=(t,n,e)=>{if(n.has(t))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(t):n.set(t,e)},ge=(t,n,e,a)=>(we(t,n,"write to private field"),a?a.call(t,e):n.set(t,e),e);var y=(t,n,e)=>(we(t,n,"access private method"),e);import{r as v,A as Mt,_ as Ze,g as $t,a as Z,i as Pe,d as Oe,u as pt,b as O,j as o,T as je,M as De,c as Y,B as R,e as m,F as Ae,P as Se,I as ht,E as We,S as ze,C as Rt,f as Vt,h as Je,D as qe,k as Ht,R as Zt,l as Wt,m as Jt,U as qt,n as Gt,L as Kt,o as Yt,p as ee,q as Qt,s as Xt,t as es,v as ts}from"./index-d45a772c.js";import{u as yt}from"./useTranslation-c750ffad.js";import{I as ss}from"./index-1b33b412.js";import{d as xe}from"./deleteData-f1ce552e.js";var ns={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"appstore-add",theme:"outlined"};const as=ns;var gt=function(n,e){return v.createElement(Mt,Ze(Ze({},n),{},{ref:e,icon:as}))};gt.displayName="AppstoreAddOutlined";const rs=v.forwardRef(gt);const is=async t=>{let n=`https://block-explorer-api.mainnet.zksync.io/address/${t}/transfers?limit=100&page=1`;const e=[];for(;;)try{const a=await Z.get(n);if(a.status===200){const r=a.data.items;if(e.push(...r),a.data.links.next==="")break;n="https://block-explorer-api.mainnet.zksync.io/"+a.data.links.next}else{console.error("Error occurred while retrieving transactions.");break}}catch(a){console.error("Error occurred while making the request:",a);break}return e},os=async t=>{const n=await Z.post("https://mainnet.era.zksync.io/",{id:42,jsonrpc:"2.0",method:"zks_getTokenPrice",params:["0x0000000000000000000000000000000000000000"]}),e={USDC:1,USDT:1,ZKUSD:1,CEBUSD:1,LUSD:1,ETH:parseInt(n.data.result)};t.forEach(a=>{a.transfers.forEach(r=>{r.token.price=e[r.token.symbol.toUpperCase()]}),a.transfers=a.transfers.filter(r=>r.token.price!==void 0)})},cs=async t=>{let n=`https://block-explorer-api.mainnet.zksync.io/transactions?address=${t}&limit=100&page=1`;const e=[],a=await $t();for(;;)try{const i=await Z.get(n);if(i.status===200){if(i.data.items.forEach(u=>{const{hash:h,to:x,from:k,data:j,isL1Originated:D,fee:W,receivedAt:X,value:ne}=u;e.push({hash:h,to:x,from:k,data:j,isL1Originated:D,fee:W,receivedAt:X,transfers:[],ethValue:parseInt(a),value:ne})}),i.data.links.next==="")break;n="https://block-explorer-api.mainnet.zksync.io/"+i.data.links.next}else{console.error("Error occurred while retrieving transactions.");break}}catch(i){console.error("Error occurred while making the request:",i);break}return(await is(t)).forEach(i=>{i.token!==null&&e.forEach(c=>{c.hash===i.transactionHash&&c.transfers.push(i)})}),await os(e),await Pe(Oe),await pt("zkTransactions",{address:t,data:JSON.stringify(e)}),e},ls=async t=>{let n=0;return t.forEach(e=>{const a=parseInt(e.fee,16)*1e-18*e.ethValue;n+=a}),n===0?0:n.toFixed(2)},ds=t=>{let n=0;return t.forEach(e=>{const a=e.transfers.sort((i,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(i.amount)*10**-i.token.decimals*i.token.price);if(a.length===0)return;const r=parseInt(a[0].amount)*10**-a[0].token.decimals*a[0].token.price;n+=r}),n===0?0:n.toFixed(2)},us=t=>{const n=(new Date().getTime()-new Date(t).getTime())/1e3;if(n<60)return O.t("secondsAgo",{count:Math.round(n)});const e=n/60;if(e<60)return O.t("minutesAgo",{count:Math.round(e)});const a=e/60;if(a<24)return O.t("hoursAgo",{count:Math.round(a)});const r=a/24;return O.t("daysAgo",{count:Math.round(r)})},fs=t=>{const n=t.getFullYear(),e=new Date(n,0,1),a=(t.getDay()+6)%7,r=Math.floor((t.getTime()-e.getTime())/864e5),i=Math.floor((r+e.getDay()-a)/7);return`${n}-${i}`},ms=(t,n)=>{const e=new Set,a=new Set,r=new Set,i=new Set;return n.forEach(c=>{if(c.from.toLowerCase()!==t.toLowerCase())return;const u=new Date(c.receivedAt),h=u.getFullYear(),x=u.getMonth(),k=u.getDate(),j=fs(u);e.add(`${h}-${x}-${k}`),a.add(`${h}-${j}`),r.add(`${h}-${x}`),i.add(c.to)}),{dayActivity:e.size,weekActivity:a.size,monthActivity:r.size,contractActivity:i.size}},ps=async(t,n)=>{if(n.length===0)return{dayActivity:0,weekActivity:0,monthActivity:0,contractActivity:0,zks2_last_tx:O.t("noTransaction")};const{dayActivity:e,weekActivity:a,monthActivity:r,contractActivity:i}=ms(t,n),c=n[0],u=us(c.receivedAt)||O.t("noTransaction");return{dayActivity:e,weekActivity:a,monthActivity:r,contractActivity:i,zks2_last_tx:u}};async function hs(t){try{let n="https://block-explorer-api.mainnet.zksync.io/address/"+t;const e=await Z.get(n);let a,r,i;return"0x000000000000000000000000000000000000800A"in e.data.balances?(r=e.data.balances["0x000000000000000000000000000000000000800A"].balance,r=(Number(r)/10**18).toFixed(3)):r=0,"0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4"in e.data.balances?(i=e.data.balances["0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4"].balance,i=(Number(i)/10**6).toFixed(2)):i=0,a=e.data.sealedNonce,{zks2_balance:r,zks2_tx_amount:a,zks2_usdcBalance:i}}catch(n){return console.error(n),{zks2_balance:"-",zks2_tx_amount:"-",zks2_usdcBalance:"-"}}}const ys=t=>{const n=(new Date().getTime()-new Date(t).getTime())/1e3;if(n<60)return O.t("secondsAgo",{count:Math.round(n)});const e=n/60;if(e<60)return O.t("minutesAgo",{count:Math.round(e)});const a=e/60;if(a<24)return O.t("hoursAgo",{count:Math.round(a)});const r=a/24;return O.t("daysAgo",{count:Math.round(r)})};async function gs(t){try{const e=(await Z.get(`https://api.zksync.io/api/v0.2/accounts/${t}/transactions`,{params:{from:"latest",limit:"25",direction:"older"}})).data;return e.result.list.length===0?O.t("noTransaction"):ys(e.result.list[0].createdAt)}catch(n){return console.log(n),"-"}}async function xs(t){try{let n="https://api.zksync.io/jsrpc";const e=await Z.post(n,{id:1,jsonrpc:"2.0",method:"account_info",params:[t]});let a;"ETH"in e.data.result.committed.balances?a=(e.data.result.committed.balances.ETH/10**18).toFixed(3):a=0;let r=e.data.result.committed.nonce,i=await gs(t);return{zks1_balance:a,zks1_tx_amount:r,zks1_latest_tx:i}}catch(n){return console.error(n),{zks1_balance:"-",zks1_tx_amount:"-",zks1_latest_tx:"-"}}}const ks={ethereum:"https://cloudflare-eth.com",optimism:"https://optimism-mainnet.public.blastapi.io",arbitrum:"https://rpc.ankr.com/arbitrum",polygon:"https://polygon-bor.publicnode.com",bsc:"https://bscrpc.com"};async function bs(t,n){try{let e=ks[n];if(!e)return"Error: Invalid Network Name";let r=(await Z.post(e,{jsonrpc:"2.0",method:"eth_getBalance",params:[t,"latest"],id:1})).data.result;return parseInt(r,16)/10**18===0?0:(parseInt(r,16)/10**18).toFixed(3)}catch(e){return console.error(e),"-"}}const vs={ethereum:"https://cloudflare-eth.com",optimism:"https://optimism-mainnet.public.blastapi.io",arbitrum:"https://rpc.ankr.com/arbitrum",polygon:"https://polygon-bor.publicnode.com",bsc:"https://bscrpc.com"};async function ws(t,n){try{let e=vs[n];if(!e)return"Error: Invalid Network Name";const r=(await Z.post(e,{jsonrpc:"2.0",method:"eth_getTransactionCount",params:[t,"latest"],id:1})).data.result;return parseInt(r,16)}catch(e){return console.error(e),"Error"}}const As="6.3.0";function Ss(t,n,e){const a=n.split("|").map(i=>i.trim());for(let i=0;i<a.length;i++)switch(n){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===n)return}const r=new Error(`invalid value for type ${n}`);throw r.code="INVALID_ARGUMENT",r.argument=`value.${e}`,r.value=t,r}function xt(t,n,e){for(let a in n){let r=n[a];const i=e?e[a]:null;i&&Ss(r,i,a),Object.defineProperty(t,a,{enumerable:!0,value:r,writable:!1})}}function re(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(re).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let e="0x";for(let a=0;a<t.length;a++)e+=n[t[a]>>4],e+=n[t[a]&15];return e}if(typeof t=="object"&&typeof t.toJSON=="function")return re(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(e=>`${re(e)}: ${re(t[e])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function zs(t,n,e){{const r=[];if(e){if("message"in e||"code"in e||"name"in e)throw new Error(`value will overwrite populated values: ${re(e)}`);for(const i in e){const c=e[i];r.push(i+"="+re(c))}}r.push(`code=${n}`),r.push(`version=${As}`),r.length&&(t+=" ("+r.join(", ")+")")}let a;switch(n){case"INVALID_ARGUMENT":a=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":a=new RangeError(t);break;default:a=new Error(t)}return xt(a,{code:n}),e&&Object.assign(a,e),a}function F(t,n,e,a){if(!t)throw zs(n,e,a)}function w(t,n,e,a){F(t,n,"INVALID_ARGUMENT",{argument:e,value:a})}["NFD","NFC","NFKD","NFKC"].reduce((t,n)=>{try{if("test".normalize(n)!=="test")throw new Error("bad");if(n==="NFD"){const e=String.fromCharCode(233).normalize("NFD"),a=String.fromCharCode(101,769);if(e!==a)throw new Error("broken")}t.push(n)}catch{}return t},[]);function Is(t,n,e){if(e==null&&(e=""),t!==n){let a=e,r="new";e&&(a+=".",r+=" "+e),F(!1,`private constructor; use ${a}from* methods`,"UNSUPPORTED_OPERATION",{operation:r})}}function _s(t,n,e){if(t instanceof Uint8Array)return e?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const a=new Uint8Array((t.length-2)/2);let r=2;for(let i=0;i<a.length;i++)a[i]=parseInt(t.substring(r,r+2),16),r+=2;return a}w(!1,"invalid BytesLike value",n||"value",t)}function Cs(t,n){return _s(t,n,!1)}const kt=BigInt(0),ie=BigInt(1),oe=9007199254740991;function Ee(t,n){const e=bt(t,"value"),a=BigInt(ke(n,"width"));if(F(e>>a===kt,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),e>>a-ie){const r=(ie<<a)-ie;return-((~e&r)+ie)}return e}function Ge(t,n){const e=bt(t,"value"),a=BigInt(ke(n,"bits"));return e&(ie<<a)-ie}function Ue(t,n){switch(typeof t){case"bigint":return t;case"number":return w(Number.isInteger(t),"underflow",n||"value",t),w(t>=-oe&&t<=oe,"overflow",n||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(e){w(!1,`invalid BigNumberish string: ${e.message}`,n||"value",t)}}w(!1,"invalid BigNumberish value",n||"value",t)}function bt(t,n){const e=Ue(t,n);return F(e>=kt,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),e}const Ke="0123456789abcdef";function js(t){if(t instanceof Uint8Array){let n="0x0";for(const e of t)n+=Ke[e>>4],n+=Ke[e&15];return BigInt(n)}return Ue(t)}function ke(t,n){switch(typeof t){case"bigint":return w(t>=-oe&&t<=oe,"overflow",n||"value",t),Number(t);case"number":return w(Number.isInteger(t),"underflow",n||"value",t),w(t>=-oe&&t<=oe,"overflow",n||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return ke(BigInt(t),n)}catch(e){w(!1,`invalid numeric string: ${e.message}`,n||"value",t)}}w(!1,"invalid numeric value",n||"value",t)}const Ds=BigInt(-1),B=BigInt(0),ce=BigInt(1),Es=BigInt(5),ae={};let le="0000";for(;le.length<80;)le+=le;function te(t){let n=le;for(;n.length<t;)n+=n;return BigInt("1"+n.substring(0,t))}function de(t,n,e){const a=BigInt(n.width);if(n.signed){const r=ce<<a-ce;F(e==null||t>=-r&&t<r,"overflow","NUMERIC_FAULT",{operation:e,fault:"overflow",value:t}),t>B?t=Ee(Ge(t,a),a):t=-Ee(Ge(-t,a),a)}else{const r=ce<<a;F(e==null||t>=0&&t<r,"overflow","NUMERIC_FAULT",{operation:e,fault:"overflow",value:t}),t=(t%r+r)%r&r-ce}return t}function Ie(t){typeof t=="number"&&(t=`fixed128x${t}`);let n=!0,e=128,a=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")n=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);w(i,"invalid fixed format","format",t),n=i[1]!=="u",e=parseInt(i[2]),a=parseInt(i[3])}}else if(t){const i=t,c=(u,h,x)=>i[u]==null?x:(w(typeof i[u]===h,"invalid fixed format ("+u+" not "+h+")","format."+u,i[u]),i[u]);n=c("signed","boolean",n),e=c("width","number",e),a=c("decimals","number",a)}w(e%8===0,"invalid FixedNumber width (not byte aligned)","format.width",e),w(a<=80,"invalid FixedNumber decimals (too large)","format.decimals",a);const r=(n?"":"u")+"fixed"+String(e)+"x"+String(a);return{signed:n,width:e,decimals:a,name:r}}function Ts(t,n){let e="";t<B&&(e="-",t*=Ds);let a=t.toString();if(n===0)return e+a;for(;a.length<=n;)a=le+a;const r=a.length-n;for(a=a.substring(0,r)+"."+a.substring(r);a[0]==="0"&&a[1]!==".";)a=a.substring(1);for(;a[a.length-1]==="0"&&a[a.length-2]!==".";)a=a.substring(0,a.length-1);return e+a}var N,p,I,H,se,P,V,ue,Le,fe,Fe,me,Be,pe,Ne;const Q=class{constructor(n,e,a){M(this,H);M(this,P);M(this,ue);M(this,fe);M(this,me);M(this,pe);ve(this,"format");M(this,N,void 0);M(this,p,void 0);M(this,I,void 0);ve(this,"_value");Is(n,ae,"FixedNumber"),ge(this,p,e),ge(this,N,a);const r=Ts(e,a.decimals);xt(this,{format:a.name,_value:r}),ge(this,I,te(a.decimals))}get signed(){return f(this,N).signed}get width(){return f(this,N).width}get decimals(){return f(this,N).decimals}get value(){return f(this,p)}addUnsafe(n){return y(this,ue,Le).call(this,n)}add(n){return y(this,ue,Le).call(this,n,"add")}subUnsafe(n){return y(this,fe,Fe).call(this,n)}sub(n){return y(this,fe,Fe).call(this,n,"sub")}mulUnsafe(n){return y(this,me,Be).call(this,n)}mul(n){return y(this,me,Be).call(this,n,"mul")}mulSignal(n){y(this,H,se).call(this,n);const e=f(this,p)*f(n,p);return F(e%f(this,I)===B,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),y(this,P,V).call(this,e/f(this,I),"mulSignal")}divUnsafe(n){return y(this,pe,Ne).call(this,n)}div(n){return y(this,pe,Ne).call(this,n,"div")}divSignal(n){F(f(n,p)!==B,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),y(this,H,se).call(this,n);const e=f(this,p)*f(this,I);return F(e%f(n,p)===B,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),y(this,P,V).call(this,e/f(n,p),"divSignal")}cmp(n){let e=this.value,a=n.value;const r=this.decimals-n.decimals;return r>0?a*=te(r):r<0&&(e*=te(-r)),e<a||e>a?-1:0}eq(n){return this.cmp(n)===0}lt(n){return this.cmp(n)<0}lte(n){return this.cmp(n)<=0}gt(n){return this.cmp(n)>0}gte(n){return this.cmp(n)>=0}floor(){let n=f(this,p);return f(this,p)<B&&(n-=f(this,I)-ce),n=f(this,p)/f(this,I)*f(this,I),y(this,P,V).call(this,n,"floor")}ceiling(){let n=f(this,p);return f(this,p)>B&&(n+=f(this,I)-ce),n=f(this,p)/f(this,I)*f(this,I),y(this,P,V).call(this,n,"ceiling")}round(n){if(n==null&&(n=0),n>=this.decimals)return this;const e=this.decimals-n,a=Es*te(e-1);let r=this.value+a;const i=te(e);return r=r/i*i,de(r,f(this,N),"round"),new Q(ae,r,f(this,N))}isZero(){return f(this,p)===B}isNegative(){return f(this,p)<B}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(n){return Q.fromString(this.toString(),n)}static fromValue(n,e,a){e==null&&(e=0);const r=Ie(a);let i=Ue(n,"value");const c=e-r.decimals;if(c>0){const u=te(c);F(i%u===B,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:n}),i/=u}else c<0&&(i*=te(-c));return de(i,r,"fromValue"),new Q(ae,i,r)}static fromString(n,e){const a=n.match(/^(-?)([0-9]*)\.?([0-9]*)$/);w(a&&a[2].length+a[3].length>0,"invalid FixedNumber string value","value",n);const r=Ie(e);let i=a[2]||"0",c=a[3]||"";for(;c.length<r.decimals;)c+=le;F(c.substring(r.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:n}),c=c.substring(0,r.decimals);const u=BigInt(a[1]+i+c);return de(u,r,"fromString"),new Q(ae,u,r)}static fromBytes(n,e){let a=js(Cs(n,"value"));const r=Ie(e);return r.signed&&(a=Ee(a,r.width)),de(a,r,"fromBytes"),new Q(ae,a,r)}};let Te=Q;N=new WeakMap,p=new WeakMap,I=new WeakMap,H=new WeakSet,se=function(n){w(this.format===n.format,"incompatible format; use fixedNumber.toFormat","other",n)},P=new WeakSet,V=function(n,e){return n=de(n,f(this,N),e),new Q(ae,n,f(this,N))},ue=new WeakSet,Le=function(n,e){return y(this,H,se).call(this,n),y(this,P,V).call(this,f(this,p)+f(n,p),e)},fe=new WeakSet,Fe=function(n,e){return y(this,H,se).call(this,n),y(this,P,V).call(this,f(this,p)-f(n,p),e)},me=new WeakSet,Be=function(n,e){return y(this,H,se).call(this,n),y(this,P,V).call(this,f(this,p)*f(n,p)/f(this,I),e)},pe=new WeakSet,Ne=function(n,e){return F(f(n,p)!==B,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),y(this,H,se).call(this,n),y(this,P,V).call(this,f(this,p)*f(this,I)/f(n,p),e)};const Ls=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Fs(t,n){let e=18;if(typeof n=="string"){const a=Ls.indexOf(n);w(a>=0,"invalid unit","unit",n),e=3*a}else n!=null&&(e=ke(n,"unit"));return Te.fromValue(t,e,{decimals:e}).toString()}function Ye(t){return Fs(t,18)}const Bs=(t,n)=>{let e=0,a=0,r=0,i=0;return t.forEach(c=>{const u=c.from,h=c.to,x=c.isL1Originated;if(u.toLowerCase()===n.toLowerCase()){if(x){e++;const k=Ye(c.value);a+=parseFloat(k)}if(h.toLowerCase()==="0x000000000000000000000000000000000000800A".toLowerCase()){r++;const k=Ye(c.value);i+=parseFloat(k)}}}),{l1Tol2Times:e,l1Tol2Amount:a===0?0:a.toFixed(3),l2Tol1Times:r,l2Tol1Amount:i===0?0:i.toFixed(3)}},Ns=t=>{const n=t.getFullYear(),e=new Date(n,0,1),a=(t.getDay()+6)%7,r=Math.floor((t.getTime()-e.getTime())/864e5),i=Math.floor((r+e.getDay()-a)/7);return`${n}-${i}`},_=(t,n,e,a=[])=>{const r=new Set,i=new Set,c=new Set;return n.forEach(u=>{if(e!=="zksynceraportal"&&!a.includes(u.to.toLowerCase())&&!a.includes(u.from.toLowerCase())||e==="zksynceraportal"&&!u.data.startsWith("0x51cff8d9")&&!(u.to.toLowerCase()===t.toLowerCase()&&u.isL1Originated))return;const h=new Date(u.receivedAt),x=h.getFullYear(),k=h.getMonth(),j=h.getDate(),D=Ns(h);r.add(`${x}-${k}-${j}`),i.add(`${x}-${D}`),c.add(`${x}-${k}`)}),{days:r.size,weeks:i.size,months:c.size}},Qe="0x2da10a1e27bf85cedd8ffb1abbe97e53391c0295",Xe=["0x80115c708e12edd42e504c1cd52aea96c547c05c","0x176b23f1ddfeedd10fc250b8f769362492ef810b","0x4e7d2e3f40998daeb59a316148bfbf8efd1f7f3c","0xae092fcec5fd04836b12e87da0d7ed3a707b38b0"],Ps={getProtocolsState:(t,n)=>{const e={name:"SyncSwap",id:"syncswap",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://syncswap.xyz/"};return t.forEach(a=>{if(Qe.includes(a.to.toLowerCase())||Xe.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((i,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(i.amount)*10**-i.token.decimals*i.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=_(n,t,e.id,Xe.concat([Qe])).days,e}},et=["0xd2ca21df45479824f954a6e1759d436a57d63faf","0x1f090f91ee09768ca36dcd52640f4a5eae146555","0xc523df658dbec88dc03fb23a703bcbd7ffb5ea01","0x116a4a5ed4c7d5712e109d4188e17616d8e5784a","0x8d123a2a0a7c98555931ceda6917b865b7345164"],Os={getProtocolsState:(t,n)=>{const e={name:"Goal3",id:"goal3",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://beta.goal3.xyz/",tag:"Gasless"};return t.forEach(a=>{if(et.includes(a.to.toLowerCase())){if(a.data.startsWith("0xbd95e4f1")){const r=parseInt(a.data.slice(-64),16)*1e-6;e.volume+=r}else{const r=a.transfers.sort((i,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(i.amount)*10**-i.token.decimals*i.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}e.interactions+=1,e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt)}}),e.activeDays=_(n,t,e.id,et).days,e}},tt=["0x7b4872e2096ec9410b6b8c8b7d039589e6ee8022","0xaf08a9d918f16332f22cf8dc9abe9d9e14ddcbc2"],Us={getProtocolsState:(t,n)=>{const e={name:"Holdstation",id:"holdstation",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://holdstation.exchange/"};return t.forEach(a=>{if(tt.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((i,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(i.amount)*10**-i.token.decimals*i.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=_(n,t,e.id,tt).days,e}},st=["0x33d9936b7b7bc155493446b5e6ddc0350eb83aec","0x7499ce9c8f4ff47be5dd5308ab54cc710de751e1","0xbc94aedd2a0a986476b89e072b05e0df117a3f8b","0xc319755dff1601b3d0520b421a281b11bf22e80f","0x8df80089b7ab1646db211d43949ecdfc94582011","0x0066f3791bd9d5a25d88f978dd8e1006445fe0d6","0x377ec7c9ae5a0787f384668788a1654249059dd6","0x3ec82c07981d6d213da9bd35a0ba4cd324fea438","0x9606ec131eec0f84c95d82c9a63959f2331cf2ac","0x936c9a1b8f88bfdbd5066ad08e5d773bc82eb15f","0x8b9d7d609a83b2f69d2135786a7d230043af7283","0x7dee7de9814ed6c1e20b3e4e2fa9b1b96e15fde1"],Ms={getProtocolsState:(t,n)=>{const e={name:"iZUMi finance",id:"izumi",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://izumi.finance/home"};return t.forEach(a=>{if(st.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((i,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(i.amount)*10**-i.token.decimals*i.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=_(n,t,e.id,st).days,e}},nt=["0xfd54762d435a490405dda0fbc92b7168934e8525","0x852639ee9dd090d30271832332501e87d287106c","0x77ee88b1c9cce741ec35553730eb1f19cd45a379","0x39e098a153ad69834a9dac32f0fca92066ad03f4"],$s={getProtocolsState:(t,n)=>{const e={name:"Maverick",id:"maverick",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://app.mav.xyz/"};return t.forEach(a=>{if(nt.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((i,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(i.amount)*10**-i.token.decimals*i.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=_(n,t,e.id,nt).days,e}},at="0x8b791913eb07c32779a16750e3868aa8495f5964",rt=["0xdfaab828f5f515e104baaba4d8d554da9096f0e4","0xb85feb6af3412d690dfda280b73eaed73a2315bc"],Rs={getProtocolsState:(t,n)=>{const e={name:"Mute.io",id:"muteio",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://mute.io/"};return t.forEach(a=>{if(at.includes(a.to.toLowerCase())||rt.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((i,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(i.amount)*10**-i.token.decimals*i.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=_(n,t,e.id,rt.concat([at])).days,e}},it=["0x84c18204c30da662562b7a2c79397c9e05f942f0","0xca806b267fc0c1c12edbf77a2e5bca5939c7d953","0xaa08a6d7b10724d03b8f4857d4fa14e7f92814e3","0x10c8044ae3f2b1c7decb439ff2dc1164d750c39d","0xe676b11421d68a28ba50920f2841183af93067a2","0x6219f06135b79705d34f5261852e9f6b98821e1f"],Vs={getProtocolsState:(t,n)=>{const e={name:"Onchain Trade",id:"onchaintrade",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://onchain.trade/"};return t.forEach(a=>{if(it.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((i,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(i.amount)*10**-i.token.decimals*i.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=_(n,t,e.id,it).days,e}},_e=["0xe4edb277e41dc89ab076a1f049f4a3efa700bce8","0x80c67432656d59144ceff962e8faf8926599bcf8","0xee73323912a4e3772b74ed0ca1595a152b0ef282","0x0a88BC5c32b684D467b43C06D9e0899EfEAF59Df"],Hs={getProtocolsState:(t,n)=>{const e={name:"Orbiter Finance",id:"orbiter",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://orbiter.finance/"};return t.forEach(a=>{if(_e.includes(a.to.toLowerCase())||_e.includes(a.from.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((i,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(i.amount)*10**-i.token.decimals*i.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=_(n,t,e.id,_e).days,e}},ot=["0xefde2aefe307a7362c7e0e3be019d1491dc7e163","0xba5f1898f3af43e30b552cac559f11f5d5a2fd1e","0xf9895dcb26c60743fce3ae54f506c47b763693bb","0xbbca935fb05d8671b8875293c2d82df73105ac60","0xc8db02c5900de3ed03139e9ec62a84b2f5e06d7f","0xc2e9dfb2fded2139b0b60c6781b4c648f1385c16","0x0ed4a1c66fcdf17341177422e73ca919284e040c","0x015d01187a77055fadb96c63a9de9f8981e3d0f5","0x9eb48ce91a77ff37f2edd032c90d7ec6a953b4fd","0x1f79cce5b8876a07541900e681b31a8e51766b5a","0xf77ded0ae91c41c432555beb25da2a6658338e5a","0xcc8b6c37fb97bdc774f0ea7f8b047e8ee057458c","0xc05c6a229c6ed34b9d31c88421d70ef71fbaabcf","0xf35eb225803ccf6ffb64be531bb91132a9229196","0x277e57e33c92c7f145832274384eeef35828db3d","0x2dddd703578d1f5bd1fad113c9e12f0c416305d5","0xd23432901c0754e28999661f31ab4aa3633ec2ed","0x747cc81b6c2b4afe13be59d31591d4229854b826","0xa0c13b5eca719be98ef27d0c4111cb5abbe97731","0x824422bd3ba030ca9ca5bcad26dfd4b45409849d","0xd2589f416c9412572df8d94fa1d58073c9f8f3bf","0x7bd375b95a1dbcbddb1e8219a01c550b21ed6ea2","0x5b91962f5eca75e6558e4d32df69b30f75cc6fe5","0x901b51b9a4214990ac6f0fd50a45df1573b7a51a"],Zs={getProtocolsState:(t,n)=>{const e={name:"Rollup Finance",id:"rollup",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://rollup.finance/"};return t.forEach(a=>{if(ot.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((i,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(i.amount)*10**-i.token.decimals*i.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=_(n,t,e.id,ot).days,e}},ct=["0x0700fb51560cfc8f896b2c812499d17c5b0bf6a7","0xe8826fc3ce6e74932144dbc2b369e7b52e88193a","0x7cf85f98c0339559eab22deea1e018721e800add","0xb376fceacd9fef24a342645cbf72a4c439ea0614","0xacf5a67f2fcfeda3946ccb1ad9d16d2eb65c3c96","0x4ad9ee1698b6d521ebb2883dd9fc3655c7553561","0x00f093ff2bca9da894396336286c7c5bd2310ca5","0x307baa142ba2bfa4a3059efb631899c992a193ee","0x77d807b74d54b81a87a5769176bc7719f676c8ce","0xbe7d1fd1f6748bbdefc4fbacafbb11c6fc506d1d"],Ws={getProtocolsState:(t,n)=>{const e={name:"SpaceFi",id:"spacefi",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://spacefi.io/"};return t.forEach(a=>{if(ct.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((i,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(i.amount)*10**-i.token.decimals*i.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=_(n,t,e.id,ct).days,e}},lt=["0x1bdb8250eaf3c596441e6c3417c9d5195d6c85b9"],Js={getProtocolsState:(t,n)=>{const e={name:"Starmaker",id:"starmaker",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://starmaker.exchange/"};return t.forEach(a=>{if(lt.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((i,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(i.amount)*10**-i.token.decimals*i.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=_(n,t,e.id,lt).days,e}},dt="0xd999e16e68476bc749a28fc14a0c3b6d7073f50c",ut=["0xcd52cbc975fbb802f82a1f92112b1250b5a997df"],qs={getProtocolsState:(t,n)=>{const e={name:"Velocore",id:"velocore",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://velocore.xyz/"};return t.forEach(a=>{if(dt.includes(a.to.toLowerCase())||ut.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((i,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(i.amount)*10**-i.token.decimals*i.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=_(n,t,e.id,ut.concat([dt])).days,e}},Gs={getProtocolsState:(t,n)=>{const e={name:"zkSync Era Portal",id:"zksynceraportal",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://portal.zksync.io/bridge"};return t.forEach(a=>{if(a.to.toLowerCase()==="0x000000000000000000000000000000000000800a"&&a.data.startsWith("0x51cff8d9")||a.to.toLowerCase()===n.toLowerCase()&&a.isL1Originated){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((i,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(i.amount)*10**-i.token.decimals*i.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=_(n,t,e.id,["0x000000000000000000000000000000000000800a"]).days,e}},Ce=["0xa531ece441138d8ce52642ad497059f2a79fd96f"],Ks={getProtocolsState:(t,n)=>{const e={name:"zkSync ID",id:"zksyncid",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://www.zksyncid.xyz/"};return t.forEach(a=>{if(Ce.includes(a.to.toLowerCase())||Ce.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((i,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(i.amount)*10**-i.token.decimals*i.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=_(n,t,e.id,Ce).days,e}},ft=["0xae23b6e7f91ddebd3b70d74d20583e3e674bd94f"],Ys={getProtocolsState:(t,n)=>{const e={name:"zkSync Name Service",id:"zksyncnameservice",lastActivity:"",volume:0,interactions:0,activeDays:0,approves:0,url:"https://app.zkns.domains/"};return t.forEach(a=>{if(ft.includes(a.to.toLowerCase())){e.lastActivity===""&&(e.lastActivity=a.receivedAt),new Date(e.lastActivity)<new Date(a.receivedAt)&&(e.lastActivity=a.receivedAt),e.interactions+=1;const r=a.transfers.sort((i,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(i.amount)*10**-i.token.decimals*i.token.price);if(r.length===0)return;e.volume+=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price}}),e.activeDays=_(n,t,e.id,ft).days,e}},Qs=async(t,n)=>{const e=Ps.getProtocolsState(t,n),a=Os.getProtocolsState(t,n),r=Us.getProtocolsState(t,n),i=Ms.getProtocolsState(t,n),c=$s.getProtocolsState(t,n),u=Rs.getProtocolsState(t,n),h=Vs.getProtocolsState(t,n),x=Hs.getProtocolsState(t,n),k=Zs.getProtocolsState(t,n),j=Ws.getProtocolsState(t,n),D=Js.getProtocolsState(t,n),W=qs.getProtocolsState(t,n),X=Gs.getProtocolsState(t,n),ne=Ks.getProtocolsState(t,n),be=Ys.getProtocolsState(t,n),he=await Promise.all([e,a,r,i,c,u,h,x,k,j,D,W,X,ne,be]);await Pe(Oe),await pt("zkProtocol",{address:n,data:JSON.stringify(he)})},Xs=async t=>{try{const n="https://qr-mint.g7p.io/api/checkWhitelist?wallet="+t,a=(await Z.get(n,{timeout:2e4})).data.success===!0?"yes":"no";return console.log(a),a}catch(n){return n.response&&n.response.status===400&&n.response.data&&n.response.data.message==="Your address is not eligible for this initial mint. Follow @zksync on Twitter for opportunities to mint the Libertas Omnibus project 🫡"?"no":"error"}},mt=async(t,n)=>{try{const e=await cs(t),a=await ls(e),r=ds(e),i=await ps(t,e),c=await hs(t),u=await xs(t),h=await bs(t,"ethereum"),x=await ws(t,"ethereum"),k=Bs(e,t);await Qs(e,t);const j=await Xs(t);return{totalFee:a,totalExchangeAmount:r,activity:i,zksEraBalance:c,zksLiteBalance:u,eth_balance:h,eth_tx_amount:x,bridge:k,isCanClaim:j,result:"success"}}catch(e){return{result:"error",reason:e.message}}},en=t=>{const{t:n}=yt(),e=[{key:"1",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/izumi-1.png",name:"iziswap",category:"DEX",url:"https://zksync.izumi.finance/swap",description:"izumi_Finance是专注流动性的多链DeFi协议，刚刚完成了新一轮22M的融资，iZiSwap上线zkSync一个月，TVL便突破40M，目前是zksync第二的dex,未来会把zksync给予项目方潜在空投的50%，用来回馈给用户。"},{key:"2",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem-logo-2/eco-logo-Galaxy-Owlto-Finance.png",name:"Owlto",category:"Bridge",url:"https://owlto.finance/",description:"快速/便宜/安全/好用的跨链桥."},{key:"3",logo:"https://portal.zksync.io/_nuxt/icons/64x64.cb7cab0d.png",name:"zkSync Portal",category:"Portal",url:"https://portal.zksync.io/",description:"zkSync官方钱包门户。"},{key:"4",logo:"https://portal.zksync.io/_nuxt/icons/64x64.cb7cab0d.png",name:"zkSync Bridge",category:"Bridge",url:"https://portal.zksync.io/bridge/",description:"zkSync官方桥。"},{key:"5",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/meson.svg",name:"meson",category:"Bridge",url:"https://meson.fi/?from=bitboxtools",description:"Meson是一个领先的稳定币跨链协议，它允许稳定币在不同的区块链之间进行跨链交易。该协议支持 USDC、USDT 和 BUSD 等主流稳定币在 zkSync 和其他20条主流公链之间的跨链操作。"},{key:"6",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/hito-transparent.svg",name:"Argent",category:"Wallet",url:"https://www.argent.xyz/",description:"Argent是一款基于以太坊的移动钱包，支持zkSync。"},{key:"7",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/Group%20104439%20-%20Naomi%20LI.svg",name:"Element Market",category:"NFT",url:"https://element.market/",description:"Element Market是一个聚合NFT市场。"},{key:"8",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/orbiter-1.png",name:"Orbiter",category:"Bridge",url:"https://orbiter.finance",description:"Orbiter是一个跨链桥。"},{key:"9",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem/okxwallet.png",name:"OKX Wallet",category:"Wallet",url:"https://www.okx.com/cn/web3",description:"OKX Wallet,Web3 的入口。"},{key:"10",logo:"https://20178098.fs1.hubspotusercontent-na1.net/hubfs/20178098/ecosystem-logo-2/eco-logo-DeBank.png",name:"DeBank",category:"Defi",url:"https://debank.com/",description:"DeBank是一个去中心化的钱包聚合资产平台。"}],a=Array.from(new Set(e.map(u=>u.category))).map(u=>({text:u,value:u})),r=[{title:"",dataIndex:"logo",key:"logo",align:"center",render:u=>o.jsx(ss,{src:u,alt:"logo",style:{width:"40px",height:"40px",objectFit:"contain"}})},{title:n("protocol"),dataIndex:"name",key:"name",align:"center"},{title:n("category"),dataIndex:"category",key:"category",align:"center",filters:a,onFilter:(u,h)=>h.category===u},{title:n("link"),dataIndex:"url",key:"url",align:"center",render:u=>o.jsx(je,{title:n("tip"),children:o.jsx("a",{href:u,target:"_blank",rel:"noreferrer",children:u})})},{title:n("intro"),dataIndex:"description",key:"description",align:"center",render:u=>o.jsx(je,{title:u,children:o.jsx("span",{children:u.length>30?`${u.substring(0,30)}...`:u})})}],{open:i,onCancel:c}=t;return o.jsxs(De,{title:o.jsxs(o.Fragment,{children:[n("ecosystem"),o.jsxs(Y,{color:"blue",style:{marginLeft:"8px",fontWeight:"bold"},children:[" ",n("tip2")," "]})]}),open:i,onCancel:c,footer:[o.jsx(R,{onClick:c,type:"primary",children:n("close")},"close")],width:1200,centered:!0,closable:!1,bodyStyle:{height:"500px",overflow:"auto"},children:[o.jsx(m,{columns:r,pagination:!1,size:"small",dataSource:e,style:{margin:"16px"}}),o.jsx("div",{style:{textAlign:"center",marginTop:"16px",fontWeight:"bold"},children:o.jsx("p",{children:"Wait more..."})})]})},{Content:tn}=Kt,{Text:$,Paragraph:sn}=Yt,{TextArea:nn}=ht;function dn(){const{t}=yt(),[n,e]=v.useState(!1),[a,r]=v.useState([]),[i,c]=v.useState(!0),[u,h]=v.useState(!1),[x,k]=v.useState(!1),[j]=Ae.useForm(),[D,W]=v.useState([]),[X,ne]=v.useState(!1),[be,he]=v.useState(!1),[vt,Me]=v.useState(null),[ye,wt]=v.useState(null),[$e,At]=v.useState(!1),[Re,St]=v.useState(!0);let Ve=a.length+1;v.useEffect(()=>{const l=localStorage.getItem("isGetTustalabsData");l&&St(l==="true")},[]),v.useEffect(()=>{he(!0);const l=localStorage.getItem("addresses");setTimeout(()=>{he(!1)},500),l&&r(JSON.parse(l)),At(!0)},[]),v.useEffect(()=>{$e&&localStorage.setItem("addresses",JSON.stringify(a))},[a,$e]);const He=async l=>{const d=l?[l]:D;if(!d.length){ee.error({message:t("zk_error"),description:t("zk_error_msg3"),duration:1});return}ne(!0);try{let C=0,E=[];const q=()=>{for(;E.length>0&&C<5;){const g=E.shift();C+=1,g().finally(()=>{C-=1,q()})}};for(let g of d){const T=a.findIndex(G=>G.key===g);if(T!==-1){const G=()=>new Promise(async(L,K)=>{try{r(S=>{const b=[...S];for(let z in b[T])z!=="address"&&z!=="name"&&z!=="key"&&(z==="result"?b[T][z]="pending":b[T][z]=null);return b});const U=await mt(a[T].address,Re);r(S=>{const b=[...S];return b[T]={...b[T],...U},localStorage.setItem("addresses",JSON.stringify(b)),b}),L()}catch(U){K(U)}});E.push(G)}}for(q();C>0||E.length>0;)await new Promise(g=>setTimeout(g,100));ee.success({message:"完成",description:"刷新地址数据完成",duration:1})}catch(A){s,ee.error({message:t("zk_error"),description:A.message,duration:1})}finally{ne(!1),l||W([])}},zt=async()=>{try{e(!0),h(!1);const d=(await j.validateFields()).addresses.split(`
`),A=5;let C=0,E=[];const q=()=>{for(;E.length>0&&C<A;){const g=E.shift();C+=1,g().finally(()=>{C-=1,q()})}};for(let g of d){if(g=g.trim(),g.length!==42){ee.error({message:t("zk_error"),description:t("zk_error_msg"),duration:1});continue}const T=()=>new Promise(async(G,L)=>{try{r(U=>{const S=[...U];if(S.findIndex(z=>z.address===g)===-1){const z={key:Ve.toString(),address:g,result:"pending"};Ve++,S.push(z)}return S});const K=await mt(g,Re);r(U=>{const S=[...U],b=S.findIndex(z=>z.address===g);return b!==-1&&(S[b]={...S[b],...K}),S}),G()}catch(K){L(K)}});E.push(T)}for(q();C>0||E.length>0;)await new Promise(g=>setTimeout(g,100));ee.success({message:"成功",description:"批量添加完成",duration:1})}catch(l){ee.error({message:t("zk_error"),description:l.message,duration:1})}finally{e(!1),j.resetFields(),W([])}},It=()=>{c(!i)},_t=()=>i?o.jsx(Qt,{}):o.jsx(Xt,{}),Ct=()=>{h(!0)},jt=()=>{es(a,"walletInfo")},Dt=async l=>{r(a.filter(d=>d.address!==l)),localStorage.setItem("addresses",JSON.stringify(a.filter(d=>d.address!==l))),await xe("zkProtocol",[l]),await xe("zkTransactions",[l])},Et=async()=>{if(!D.length){ee.error({message:t("zk_error"),description:t("zk_error_msg2"),duration:1});return}const l=a.filter(d=>D.includes(d.key)).map(d=>d.address);await xe("zkTransactions",l),await xe("zkProtocol",l),r(a.filter(d=>!D.includes(d.key))),localStorage.setItem("addresses",JSON.stringify(a.filter(d=>!D.includes(d.key)))),W([])},Tt={selectedRowKeys:D,onChange:l=>{W(l)}},Lt=()=>{h(!1)},Ft=async l=>{await Pe(Oe);const d=await ts("zkProtocol",l);console.log(d);const A=d.data?JSON.parse(d.data):[];return{address:l,protocols:A}},Bt=[{title:"#",key:"index",align:"center",render:(l,d,A)=>A+1},{title:t("notes"),dataIndex:"name",key:"name",align:"center",render:(l,d)=>{const A=l||o.jsx(We,{});return o.jsx(Se,{title:o.jsx("div",{children:o.jsx(ht,{placeholder:"请输入备注",defaultValue:l,onChange:C=>{d.name=C.target.value},allowClear:!0,bordered:!0})}),icon:o.jsx(We,{}),onConfirm:()=>{r([...a]),localStorage.setItem("addresses",JSON.stringify(a))},onCancel:()=>{},okText:"确定",cancelText:"取消",children:o.jsx(Y,{color:"blue",style:{cursor:"pointer"},children:A})})}},{title:o.jsxs("span",{children:[t("address"),o.jsx("span",{onClick:It,style:{marginLeft:8,cursor:"pointer"},children:_t()})]}),dataIndex:"address",key:"address",align:"center",render:l=>{const d=i?l.slice(0,4)+"***"+l.slice(-4):l;return o.jsx(sn,{copyable:{text:l},style:{whiteSpace:"nowrap",margin:0},children:d})}},{title:"ETH",key:"eth_group",className:"zks_eth",children:[{title:"ETH",dataIndex:"eth_balance",key:"eth_balance",align:"center"},{title:"Tx",dataIndex:"eth_tx_amount",key:"eth_tx_amount",align:"center"}]},{title:"zkSyncLite",key:"zks_lite_group",className:"zks_lite",children:[{title:"ETH",dataIndex:["zksLiteBalance","zks1_balance"],key:"zks1_balance",align:"center"},{title:"Tx",dataIndex:["zksLiteBalance","zks1_tx_amount"],key:"zks1_tx_amount",align:"center",sorter:(l,d)=>l.zksLiteBalance.zks1_tx_amount-d.zksLiteBalance.zks1_tx_amount},{title:t("last_tx"),dataIndex:["zksLiteBalance","zks1_latest_tx"],key:"zks1_latest_tx",align:"center"}]},{title:"zkSyncEra",key:"zks_era_group",className:"zks_era",children:[{title:"ETH",dataIndex:["zksEraBalance","zks2_balance"],key:"zks2_balance",align:"center"},{title:"USDC",dataIndex:["zksEraBalance","zks2_usdcBalance"],key:"zks2_usdcBalance",align:"center"},{title:"Tx",dataIndex:["zksEraBalance","zks2_tx_amount"],key:"zks2_tx_amount",align:"center",sorter:(l,d)=>l.zksEraBalance.zks2_tx_amount-d.zksEraBalance.zks2_tx_amount},{title:t("last_tx"),dataIndex:["activity","zks2_last_tx"],key:"zks2_last_tx",align:"center",render:(l,d)=>o.jsx("a",{href:"https://explorer.zksync.io/address/"+d.address,target:"_blank",children:l})},{title:t("official_bridge_tx"),key:"cross_chain_tx_count_group",children:[{title:"L1->L2",dataIndex:["bridge","l1Tol2Times"],key:"l1Tol2Times",align:"center"},{title:"L2->L1",dataIndex:["bridge","l2Tol1Times"],key:"l2Tol1Times",align:"center"}]},{title:t("official_bridge_amount"),key:"cross_chain_amount_group",children:[{title:"L1->L2",dataIndex:["bridge","l1Tol2Amount"],key:"l1Tol2Amount",align:"center"},{title:"L2->L1",dataIndex:["bridge","l2Tol1Amount"],key:"l2Tol1Amount",align:"center"}]},{title:t("activities"),key:"activity_stats_group",children:[{title:t("day"),dataIndex:["activity","dayActivity"],key:"dayActivity",align:"center"},{title:t("week"),dataIndex:["activity","weekActivity"],key:"weekActivity",align:"center"},{title:t("month"),dataIndex:["activity","monthActivity"],key:"monthActivity",align:"center"},{title:t("contract"),dataIndex:["activity","contractActivity"],key:"contractActivity",align:"center"},{title:t("amount"),dataIndex:"totalExchangeAmount",key:"totalExchangeAmount",align:"center",sorter:(l,d)=>l.totalExchangeAmount-d.totalExchangeAmount},{title:t("fee"),dataIndex:"totalFee",key:"totalFee",align:"center"}]}]},{title:"NFT是否可领",key:"nft",align:"center",dataIndex:"isCanClaim",render:l=>o.jsxs(ze,{children:[l&&l==="yes"?o.jsx(Y,{color:"success",children:"是"}):null,l&&l==="no"?o.jsx(Y,{color:"error",children:"否"}):null,l&&l==="error"?o.jsx(Y,{color:"error",children:"获取失败"}):null]})},{title:t("state"),key:"result",align:"center",render:(l,d)=>o.jsxs(ze,{children:[d.result==="success"?o.jsx(Y,{icon:o.jsx(Rt,{}),color:"success",children:"成功"}):null,d.result==="error"?o.jsx(je,{title:d.reason,children:o.jsx(Y,{icon:o.jsx(Vt,{}),color:"error",children:"失败 "})}):null,d.result==="pending"?o.jsx(Y,{icon:o.jsx(Je,{spin:!0}),color:"processing",children:"获取中 "}):null]})},{title:t("operation"),key:"action",align:"center",render:(l,d)=>o.jsxs(ze,{size:"small",children:[o.jsx(Se,{title:t("zk_message_confirm_delete"),onConfirm:async()=>{await Dt(d.address)},children:o.jsx(R,{icon:o.jsx(qe,{})})}),o.jsx(R,{icon:o.jsx(Ht,{}),onClick:()=>{Me(d.address),Ft(d.address).then(A=>{wt(A)})}}),o.jsx(R,{icon:o.jsx(Zt,{}),onClick:()=>{He(d.key)}})]})}],Nt=[{title:"",dataIndex:"logo",key:"logo",align:"center",render:(l,d)=>o.jsx("img",{src:"/protocol/"+d.id+".png",style:{width:"20px",height:"20px"},alt:d.id})},{title:t("protocol"),dataIndex:"name",key:"name",align:"center",render:(l,d)=>o.jsx("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",children:l})},{title:"tx",dataIndex:"interactions",key:"interactions",sorter:(l,d)=>l.interactions-d.interactions,align:"center"},{title:t("last_tx"),dataIndex:"lastActivity",key:"lastActivity",align:"center",render:l=>l===""?"无":new Date(l).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"})},{title:t("amount"),dataIndex:"volume",key:"volume",align:"center",sorter:(l,d)=>l.volume-d.volume,defaultSortOrder:"descend",render:l=>Number(l).toFixed(2)}];function J(l,d=3){return l===0?"0":l.toFixed(d)}const Pt=l=>{let d=0,A=0,C=0,E=0,q=0,g=0,T=0,G=0;return l.forEach(L=>{var K,U,S,b,z;d+=parseFloat(L.eth_balance||0),A+=parseFloat(((K=L.zksLiteBalance)==null?void 0:K.zks1_balance)||0),C+=parseFloat(((U=L.zksEraBalance)==null?void 0:U.zks2_balance)||0),E+=parseFloat(((S=L.zksEraBalance)==null?void 0:S.zks2_usdcBalance)||0),q+=parseFloat(((b=L.bridge)==null?void 0:b.l1Tol2Amount)||0),g+=parseFloat(((z=L.bridge)==null?void 0:z.l2Tol1Amount)||0),T+=parseFloat(L.totalExchangeAmount||0),G+=parseFloat(L.totalFee||0)}),o.jsx(m.Summary,{children:o.jsxs(m.Summary.Row,{children:[o.jsx(m.Summary.Cell,{index:0,children:o.jsx($,{type:"danger",children:"总计"})}),o.jsx(m.Summary.Cell,{index:1}),o.jsx(m.Summary.Cell,{index:2}),o.jsx(m.Summary.Cell,{index:3}),o.jsx(m.Summary.Cell,{index:4,children:o.jsx($,{type:"danger",children:J(d)})}),o.jsx(m.Summary.Cell,{index:5}),o.jsx(m.Summary.Cell,{index:6,children:o.jsx($,{type:"danger",children:J(A)})}),o.jsx(m.Summary.Cell,{index:7}),o.jsx(m.Summary.Cell,{index:8}),o.jsx(m.Summary.Cell,{index:9,children:o.jsx($,{type:"danger",children:J(C)})}),o.jsx(m.Summary.Cell,{index:10,children:o.jsx($,{type:"danger",children:J(E,2)})}),o.jsx(m.Summary.Cell,{index:11}),o.jsx(m.Summary.Cell,{index:12}),o.jsx(m.Summary.Cell,{index:13}),o.jsx(m.Summary.Cell,{index:14}),o.jsx(m.Summary.Cell,{index:15,children:o.jsx($,{type:"danger",children:J(q)})}),o.jsx(m.Summary.Cell,{index:16,children:o.jsx($,{type:"danger",children:J(g)})}),o.jsx(m.Summary.Cell,{index:17}),o.jsx(m.Summary.Cell,{index:18}),o.jsx(m.Summary.Cell,{index:19}),o.jsx(m.Summary.Cell,{index:20}),o.jsx(m.Summary.Cell,{index:21,children:o.jsx($,{type:"danger",children:J(T,2)})}),o.jsx(m.Summary.Cell,{index:22,children:o.jsx($,{type:"danger",children:J(G,2)})}),o.jsx(m.Summary.Cell,{index:23}),o.jsx(m.Summary.Cell,{index:24}),o.jsx(m.Summary.Cell,{index:25}),o.jsx(m.Summary.Cell,{index:26}),o.jsx(m.Summary.Cell,{index:27}),o.jsx(m.Summary.Cell,{index:28})]})})};return o.jsx("div",{children:o.jsxs(tn,{children:[o.jsx(en,{open:x,onCancel:()=>k(!1)}),o.jsx(De,{title:ye&&ye.address+"  "+t("address_detail"),open:vt!==null,onCancel:()=>Me(null),footer:null,width:1e3,centered:!0,bodyStyle:{height:"500px",overflow:"auto"},children:o.jsx("div",{children:ye&&o.jsx(m,{columns:Nt,dataSource:ye.protocols,pagination:!1,defaultSortOrder:"descend",size:"small"})})}),o.jsx(De,{title:t("batch_add_address"),open:u,onOk:zt,onCancel:Lt,okButtonProps:{loading:X},okText:"OK",cancelText:"Cancel",children:o.jsx(Ae,{form:j,layout:"vertical",children:o.jsx(Ae.Item,{label:t("address"),name:"addresses",rules:[{required:!0}],children:o.jsx(nn,{placeholder:t("zk_msg"),style:{width:"500px",height:"200px"}})})})}),o.jsx("div",{style:{marginBottom:"50px"},children:o.jsx(Wt,{spinning:be,size:"small",children:o.jsx(m,{rowKey:l=>l.key,rowSelection:Tt,dataSource:a,pagination:!1,bordered:!0,style:{marginBottom:"20px",zIndex:2},size:"small",columns:Bt,summary:Pt})})}),o.jsx("div",{className:"zks_footer",children:o.jsx(Jt,{size:"small",style:{width:"100%"},children:o.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",gap:"10px"},children:[o.jsx(R,{type:"primary",onClick:()=>{k(!0)},size:"large",style:{width:"20%"},icon:o.jsx(rs,{}),children:o.jsx("span",{style:{color:"white"},children:t("ecosystem")})}),o.jsx(R,{type:"primary",onClick:Ct,size:"large",style:{width:"20%"},icon:o.jsx(qt,{}),loading:n,children:t(n?"adding":"batch_add_address")}),o.jsx(R,{type:"primary",onClick:()=>He(),loading:X,size:"large",style:{width:"20%"},icon:o.jsx(Je,{}),children:t(X?"refreshing":"refresh_selected_address")}),o.jsx(Se,{title:t("confirm_delete")+D.length+t("address_count")+"?",onConfirm:async()=>{await Et()},children:o.jsx(R,{type:"primary",danger:!0,size:"large",style:{width:"20%"},icon:o.jsx(qe,{}),children:t("delete_selected_address")})}),o.jsx(R,{type:"primary",icon:o.jsx(Gt,{}),size:"large",style:{width:"8%"},onClick:jt})]})})})]})})}export{dn as default};
